!function(t){var e={};function i(a){if(e[a])return e[a].exports;var s=e[a]={i:a,l:!1,exports:{}};return t[a].call(s.exports,s,s.exports,i),s.l=!0,s.exports}i.m=t,i.c=e,i.d=function(t,e,a){i.o(t,e)||Object.defineProperty(t,e,{configurable:!1,enumerable:!0,get:a})},i.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="",i(i.s=13)}([function(t,e,i){"use strict";i.d(e,"a",function(){return I});var a=i(4);const s={bgColor:10592673,minWidth:1187,minHeight:878,columnsAmount:9,rowsAmount:7,minElementsDestroy:2,maxActions:15,winScore:500,startState:0,pauseState:1,loseState:2,winState:3},r=["start","pause","over","win"],n={path:"./../img/icons/progress-bar.png",width:a.a.getPercentage(s.minWidth,38.4),height:a.a.getPercentage(s.minHeight,10.5),y:0,get x(){return a.a.getCenterCoordinates(s.minWidth,this.width)}},o={colors:["./../img/icons/blue-brick.png","./../img/icons/red-brick.png","./../img/icons/yellow-brick.png","./../img/icons/green-brick.png","./../img/icons/purple-brick.png"],width:50,height:50,moveIndex:60,padding:15,spaceBetween:10,anchorPoint:.5},h={path:"./../img/icons/gameplay.png",padding:20,get width(){return a.a.getBoardSize(this.padding,o.width,s.columnsAmount,o.spaceBetween)},get height(){return a.a.getBoardSize(this.padding,o.height,s.rowsAmount,o.spaceBetween)},get y(){return a.a.getCenterCoordinates(s.minHeight,this.height)},get x(){return a.a.getCenterCoordinates(s.minWidth,this.width)}},c={path:"./../img/icons/progress-line.png",width:a.a.getPercentage(s.minWidth,35.4),height:a.a.getPercentage(s.minHeight,3.4),y:a.a.getPercentage(s.minHeight,4.7),x:a.a.getPercentage(s.minWidth,32.1)},l={path:"./../img/icons/money-2.png",width:a.a.getPercentage(s.minWidth,11.3),height:a.a.getPercentage(s.minHeight,6.5),get y(){return a.a.getPercentage(s.minWidth,12)-this.height/2},get x(){return a.a.getPercentage(s.minWidth,12)-this.width/2}},u={y:l.y+a.a.getPercentage(l.y,10),x:l.x+a.a.getPercentage(l.x,50),start:0,modifier:10,textStyle:new PIXI.TextStyle({fontFamily:"Marvin-Shadow",fontSize:24,fill:"white",stroke:"white",strokeThickness:2})},g={path:"./../img/icons/placeholder-purple.png",width:a.a.getPercentage(s.minWidth,14.1),height:a.a.getPercentage(s.minHeight,6.5),y:a.a.getPercentage(s.minHeight,12),get x(){return a.a.getPercentage(s.minWidth,83)-this.width/2}},d={y:g.y+a.a.getPercentage(g.y,10),x:g.x+a.a.getPercentage(g.y,50)},w={path:"./../img/icons/placeholder-purple.png",width:a.a.getPercentage(s.minWidth,14.1),height:a.a.getPercentage(s.minHeight,6.5),y:a.a.getPercentage(s.minHeight,25),x:g.x},p={click:"mousedown",over:"mouseover",out:"mouseout"},v={y:a.a.getPercentage(w.y,105),x:a.a.getPercentage(w.x,108)},m={y:a.a.getPercentage(l.y,65),x:a.a.getPercentage(l.x,50),text:"Текущие очки"},f={y:a.a.getPercentage(g.y,65),x:a.a.getPercentage(g.x,103),text:"Победа"},k={y:a.a.getPercentage(w.y,80),x:a.a.getPercentage(w.x,97),text:"Осталось ходов"},x={y:a.a.getPercentage(s.minHeight,27.5),x:a.a.getPercentage(s.minWidth,46),text:"Время:"},y={path:"./../img/icons/placeholder-purple.png",width:a.a.getPercentage(s.minWidth,17),height:a.a.getPercentage(s.minHeight,6.5),y:a.a.getPercentage(s.minHeight,85),get x(){return a.a.getPercentage(s.minWidth,50)-this.width/2}},b={y:y.y+a.a.getPercentage(y.y,1.5),x:y.x+a.a.getPercentage(y.y,.4),text:"Играть снова"},S={y:a.a.getPercentage(s.minHeight,38),x:a.a.getPercentage(s.minWidth,46),textStyle:new PIXI.TextStyle({fontFamily:"Marvin-Shadow",fontSize:80,fill:"white",stroke:"white",strokeThickness:5})},W={y:a.a.getPercentage(s.minHeight,58),x:a.a.getPercentage(s.minWidth,46),text:"Очки:"},C={y:a.a.getPercentage(s.minHeight,62),x:a.a.getPercentage(s.minWidth,48)},M={path:"./../img/icons/panel-score.png",width:a.a.getPercentage(s.minWidth,31.8),height:a.a.getPercentage(s.minHeight,46.8),get y(){return a.a.getCenterCoordinates(s.minHeight,this.height)},get x(){return a.a.getCenterCoordinates(s.minWidth,this.width)}},P={pause:"Пауза",win:"Победа"},T={textStyle:new PIXI.TextStyle({fontFamily:"Marvin-Shadow",fontSize:150,fill:"white",stroke:"white",strokeThickness:10}),width:562,height:209,get y(){return a.a.getCenterCoordinates(s.minHeight,this.height)},get x(){return a.a.getCenterCoordinates(s.minWidth,this.width)}},B={path:"./../img/icons/pause.png",width:a.a.getPercentage(s.minWidth,8),height:a.a.getPercentage(s.minHeight,10.4),y:a.a.getPercentage(s.minHeight,1),get x(){return a.a.getPercentage(s.minWidth,93)-this.width/2}};class I{static get block(){return o}static get board(){return h}static get maxScore(){return g}static get maxScoreText(){return d}static get actionText(){return k}static get pauseButton(){return B}static get centerText(){return T}static get progressBar(){return n}static get progressLine(){return c}static get game(){return s}static get currentScore(){return m}static get winScore(){return f}static get score(){return l}static get scoreText(){return u}static get endGameFrame(){return M}static get actions(){return w}static get actionsLeftText(){return v}static get time(){return S}static get timeText(){return x}static get finalScore(){return C}static get finatlScoreText(){return W}static get restartButton(){return y}static get restartText(){return b}static get stateTexts(){return P}static get gameStates(){return r}static get events(){return p}}},function(t,e,i){"use strict";i.d(e,"a",function(){return d}),i.d(e,"d",function(){return S}),i.d(e,"b",function(){return x}),i.d(e,"c",function(){return w});var a=i(6),s=i(0),r=i(2),n=i(8),o=i(9),h=i(3),c=i(10),l=i(11),u=i(12);let g="WebGL";PIXI.utils.isWebGLSupported()||(g="canvas");let d=new PIXI.Application({width:s.a.game.minWidth,height:s.a.game.minHeight,backgroundColor:s.a.game.bgColor});document.body.appendChild(d.view);const w=new l.a,p=new r.a(s.a.restartButton),v=new h.a(s.a.restartText),m=new n.a(s.a.scoreText),f=new u.a(s.a.progressLine,s.a.game.winScore),k=new c.a(s.a.pauseButton),x=new o.a(s.a.endGameFrame,s.a.game,s.a.time,s.a.timeText,s.a.finalScore,s.a.finatlScoreText,p,v),y=new h.a(s.a.actionsLeftText,x.actionsLeft),b=new h.a(s.a.actionText),S=new a.a(s.a.block,s.a.game,s.a.board,m,f,x,y),W=new r.a(s.a.board),C=new r.a(s.a.score),M=new r.a(s.a.maxScore),P=new h.a(s.a.maxScoreText,s.a.game.winScore),T=new r.a(s.a.actions),B=new r.a(s.a.progressBar),I=new h.a(s.a.currentScore),A=new h.a(s.a.winScore);d.loader.add([s.a.block.colors[0],s.a.block.colors[1],s.a.block.colors[2],s.a.block.colors[3],s.a.block.colors[4],s.a.score.path,s.a.maxScore.path,s.a.pauseButton.path,s.a.progressBar.path,s.a.progressLine.path,s.a.endGameFrame.path,s.a.board.path]).load((()=>()=>{W.setTextures(),C.setTextures(),M.setTextures(),k.setTextures(),B.setTextures(),f.setTextures(),x.setTextures(),T.setTextures(),p.setTextures(),d.stage.addChild(W),d.stage.addChild(C),d.stage.addChild(m),d.stage.addChild(M),d.stage.addChild(P),d.stage.addChild(k),d.stage.addChild(B),d.stage.addChild(f),d.stage.addChild(I),d.stage.addChild(A),d.stage.addChild(T),d.stage.addChild(y),d.stage.addChild(b),S.fillBlockStorage(),w.play()})())},function(t,e,i){"use strict";i.d(e,"a",function(){return o});var a=i(1);function s(t,e,i){return function(t,e,i){if(e.set)e.set.call(t,i);else{if(!e.writable)throw new TypeError("attempted to set read only private field");e.value=i}}(t,r(t,e,"set"),i),i}function r(t,e,i){if(!e.has(t))throw new TypeError("attempted to "+i+" private field on non-instance");return e.get(t)}var n=new WeakMap;class o extends PIXI.Sprite{constructor(t){super(),n.set(this,{writable:!0,value:void 0}),this.x=t.x,this.y=t.y,this.width=t.width,this.height=t.height,s(this,n,t.path),this.zOrder=0}setTextures(){var t,e;this.texture=a.a.loader.resources[(t=this,e=n,function(t,e){return e.get?e.get.call(t):e.value}(t,r(t,e,"get")))].texture}}},function(t,e,i){"use strict";i.d(e,"a",function(){return c});var a=i(0);function s(t,e){return function(t,e){if(e.get)return e.get.call(t);return e.value}(t,n(t,e,"get"))}function r(t,e,i){return function(t,e,i){if(e.set)e.set.call(t,i);else{if(!e.writable)throw new TypeError("attempted to set read only private field");e.value=i}}(t,n(t,e,"set"),i),i}function n(t,e,i){if(!e.has(t))throw new TypeError("attempted to "+i+" private field on non-instance");return e.get(t)}var o=new WeakMap,h=new WeakMap;class c extends PIXI.Text{constructor(t,e,i=a.a.scoreText.textStyle){super(),o.set(this,{writable:!0,value:void 0}),h.set(this,{writable:!0,value:void 0}),r(this,o,t.x),r(this,h,t.y),this.text=e||t.text,this.style=i,this.zOrder=1,this.setTextPosition()}setTextPosition(){this.position.set(s(this,o),s(this,h))}changeCurrenttext(t){this.text=t}}},function(t,e,i){"use strict";i.d(e,"a",function(){return a});class a{static randomInteger(t,e){return Math.floor(t+Math.random()*(e+1-t))}static getCenterCoordinates(t,e){return t/2-e/2}static getBoardSize(t,e,i,a){return t+e*i+i*a}static getPercentage(t,e){return t/100*e}static sortRow(t,e){return t.row-e.row}}},function(t,e,i){"use strict";i.d(e,"a",function(){return s});var a=i(0);class s{static fallAnimation(t,e){let i=a.a.board.y+e.row*(a.a.block.width+a.a.block.spaceBetween)+a.a.block.padding+a.a.block.width*a.a.block.anchorPoint;e.width=a.a.block.width,e.height=a.a.block.height,e.y<=i?e.y+=5*t:(e.y=i,e.stopAnimation())}static scaleAnimation(t,e){e.width<=a.a.block.width?(e.width+=2*t,e.height+=2*t):(e.width=a.a.block.width,e.height=a.a.block.height,e.stopAnimation())}}},function(t,e,i){"use strict";i.d(e,"a",function(){return O});var a=i(7),s=i(1),r=i(4),n=i(0);function o(t,e){return function(t,e){if(e.get)return e.get.call(t);return e.value}(t,c(t,e,"get"))}function h(t,e,i){return function(t,e,i){if(e.set)e.set.call(t,i);else{if(!e.writable)throw new TypeError("attempted to set read only private field");e.value=i}}(t,c(t,e,"set"),i),i}function c(t,e,i){if(!e.has(t))throw new TypeError("attempted to "+i+" private field on non-instance");return e.get(t)}var l=new WeakMap,u=new WeakMap,g=new WeakMap,d=new WeakMap,w=new WeakMap,p=new WeakMap,v=new WeakMap,m=new WeakMap,f=new WeakMap,k=new WeakMap,x=new WeakMap,y=new WeakMap,b=new WeakMap,S=new WeakMap,W=new WeakMap,C=new WeakMap,M=new WeakMap,P=new WeakMap,T=new WeakMap,B=new WeakMap,I=new WeakMap,A=new WeakMap,H=new WeakMap,E=new WeakMap;class O{constructor(t,e,i,a,s,r,n){l.set(this,{writable:!0,value:void 0}),u.set(this,{writable:!0,value:void 0}),g.set(this,{writable:!0,value:void 0}),d.set(this,{writable:!0,value:void 0}),w.set(this,{writable:!0,value:void 0}),p.set(this,{writable:!0,value:void 0}),v.set(this,{writable:!0,value:void 0}),m.set(this,{writable:!0,value:void 0}),f.set(this,{writable:!0,value:void 0}),k.set(this,{writable:!0,value:void 0}),x.set(this,{writable:!0,value:void 0}),y.set(this,{writable:!0,value:void 0}),b.set(this,{writable:!0,value:void 0}),S.set(this,{writable:!0,value:void 0}),W.set(this,{writable:!0,value:void 0}),C.set(this,{writable:!0,value:void 0}),M.set(this,{writable:!0,value:void 0}),P.set(this,{writable:!0,value:void 0}),T.set(this,{writable:!0,value:void 0}),B.set(this,{writable:!0,value:void 0}),I.set(this,{writable:!0,value:void 0}),A.set(this,{writable:!0,value:void 0}),H.set(this,{writable:!0,value:void 0}),E.set(this,{writable:!0,value:void 0}),h(this,v,t.moveIndex),h(this,p,t.padding),h(this,m,i.x),h(this,f,i.y),h(this,k,t.width),h(this,x,t.height),h(this,y,t.anchorPoint),h(this,d,o(this,m)+o(this,p)+o(this,k)*o(this,y)),h(this,w,o(this,f)+o(this,p)+o(this,x)*o(this,y)),h(this,u,o(this,d)),h(this,g,o(this,w)),h(this,E,t.colors),h(this,C,e.minElementsDestroy),h(this,H,e.columnsAmount),h(this,A,e.rowsAmount),h(this,B,n),h(this,I,!1),h(this,M,a),h(this,P,s),h(this,T,r),h(this,S,"fall"),h(this,W,"scale"),this.reCreateStorages()}setBlocksInteractiveState(t){o(this,b).forEach(e=>{e.forEach(e=>{e.interactive=t})})}getTextures(t,e){return s.a.loader.resources[t[e]].texture}createStorage(t){return new Array(t).fill("")}reCreateStorages(){h(this,l,this.createStorage(o(this,H))),h(this,b,this.createStorage(o(this,A)))}getCoordinate(t,e,i,a,s,r){return t+e+i*a+s*r}createBlock(t,e,i){if(t)return new a.a(t);{const t=r.a.randomInteger(0,4),s={texture:this.getTextures(o(this,E),t),row:e,column:i,x:this.getCoordinate(o(this,m),o(this,p),i,o(this,v),o(this,k),o(this,y)),y:this.getCoordinate(o(this,f),o(this,p),e,o(this,v),o(this,x),o(this,y)),blockType:t};return new a.a(s)}}get lineInterface(){return o(this,P)}get scoreInterface(){return o(this,M)}get actionsInterface(){return o(this,B)}reRenderBlock(t){t.stopAnimation().setAnimation(o(this,S)).initAnimation().startAnimation()}moveBlocks(t){t.sort(r.a.sortRow).forEach(t=>{this.moveBlockColumn(t.row,t.column)})}removeBlocks(t){t.forEach(t=>{s.a.stage.removeChild(t);const e=t.row,i=t.column;o(this,b)[e][i]=null})}checkSameType(t,e,i){o(this,b)[t]&&o(this,b)[t][e]&&o(this,b)[t][e].type===i&&h(this,I,!0)}checkAllColors(){o(this,b).map((t,e)=>{t.map((t,i)=>{o(this,I)||(this.checkSameType(e+1,i,t.type),this.checkSameType(e-1,i,t.type),this.checkSameType(e,i+1,t.type),this.checkSameType(e,i-1,t.type))})})}onBlockHit(t,e,i,a){if(o(this,b)[e]&&o(this,b)[e][i]){const s=o(this,b)[e][i];t.includes(s)||s.type!==a||(t.push(s),this.onBlockHit(t,e+1,i,a),this.onBlockHit(t,e-1,i,a),this.onBlockHit(t,e,i+1,a),this.onBlockHit(t,e,i-1,a))}}moveBlockColumn(t,e){for(let i=t;i>0;i--)o(this,b)[i][e]=o(this,b)[i-1][e],o(this,b)[i-1][e]=null,o(this,b)[i][e]&&(o(this,b)[i][e].row=i,this.reRenderBlock(o(this,b)[i][e]))}reFillBoard(t){t.map((t,e)=>{t.map((t,i)=>{if(!t){const t=this.createBlock(null,e,i);t.width=0,t.height=0,t.setAnimation(o(this,W)).initAnimation().startAnimation(),t.on(n.a.events.click,this.blockOnMouseDown()),o(this,b)[e][i]=t,s.a.stage.addChild(t)}})})}clearBoard(){o(this,b).map(t=>{t.map(t=>{s.a.stage.removeChild(t)})})}blockOnMouseDown(){return t=>{const e=t.target,i=[];this.onBlockHit(i,e.row,e.column,e.type),i.length<o(this,C)||(this.removeBlocks(i),this.moveBlocks(i),o(this,M).increaseCounter(i.length),o(this,P).increaseWidth(o(this,M).currentScore),this.reFillBoard(o(this,b)),this.checkAllColors(),o(this,I)||(this.clearBoard(),this.reCreateStorages(),this.fillBlockStorage()),h(this,I,!1),o(this,T).increaseActions(o(this,M).currentScore),o(this,B).changeCurrenttext(o(this,T).actionsLeft))}}fillBlockStorage(){h(this,b,o(this,b).map((t,e)=>(h(this,l,o(this,l).map((t,i)=>{const a=r.a.randomInteger(0,4),c={texture:this.getTextures(o(this,E),a),x:o(this,u),y:o(this,g),row:e,column:i,blockType:a};return(t=this.createBlock(c)).on(n.a.events.click,this.blockOnMouseDown()),s.a.stage.addChild(t),h(this,u,o(this,u)+o(this,v)),t})),h(this,u,o(this,d)),h(this,g,o(this,g)+o(this,v)),o(this,l)))),h(this,u,o(this,d)),h(this,g,o(this,w)),this.checkAllColors(),o(this,I)||(this.clearBoard(),this.reCreateStorages(),this.fillBlockStorage()),h(this,I,!1)}}},function(t,e,i){"use strict";i.d(e,"a",function(){return d});var a=i(0),s=i(5);function r(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}function n(t,e){return function(t,e){if(e.get)return e.get.call(t);return e.value}(t,h(t,e,"get"))}function o(t,e,i){return function(t,e,i){if(e.set)e.set.call(t,i);else{if(!e.writable)throw new TypeError("attempted to set read only private field");e.value=i}}(t,h(t,e,"set"),i),i}function h(t,e,i){if(!e.has(t))throw new TypeError("attempted to "+i+" private field on non-instance");return e.get(t)}var c=new WeakMap,l=new WeakMap,u=new WeakMap,g=new WeakMap;class d extends PIXI.Sprite{constructor(t){super(),c.set(this,{writable:!0,value:void 0}),r(this,"row",void 0),r(this,"column",void 0),l.set(this,{writable:!0,value:void 0}),u.set(this,{writable:!0,value:void 0}),g.set(this,{writable:!0,value:void 0}),this.texture=t.texture,this.x=t.x,this.y=t.y,this.row=t.row,this.column=t.column,this.interactive=!0,o(this,l,t.blockType),this.anchor.set(a.a.block.anchorPoint),o(this,u,{fall:s.a.fallAnimation,scale:s.a.scaleAnimation}),o(this,g,n(this,u).fall),this.width=a.a.block.width,this.height=a.a.block.height,this.initAnimation()}setAnimation(t){return o(this,g,t),this}initAnimation(){return o(this,c,new PIXI.Ticker),n(this,c).add(t=>n(this,u)[n(this,g)](t,this)),this}startAnimation(){return n(this,c).start(),this}stopAnimation(){return n(this,c).stop(),this}get type(){return n(this,l)}}},function(t,e,i){"use strict";i.d(e,"a",function(){return c});var a=i(3);function s(t,e){return function(t,e){if(e.get)return e.get.call(t);return e.value}(t,n(t,e,"get"))}function r(t,e,i){return function(t,e,i){if(e.set)e.set.call(t,i);else{if(!e.writable)throw new TypeError("attempted to set read only private field");e.value=i}}(t,n(t,e,"set"),i),i}function n(t,e,i){if(!e.has(t))throw new TypeError("attempted to "+i+" private field on non-instance");return e.get(t)}var o=new WeakMap,h=new WeakMap;class c extends a.a{constructor(t){super(t),o.set(this,{writable:!0,value:void 0}),h.set(this,{writable:!0,value:void 0}),r(this,o,t.start),r(this,h,t.modifier),this.text=s(this,o)}increaseCounter(t){r(this,o,s(this,o)+t*s(this,h)),this.text=s(this,o)}resetScore(){r(this,o,0),this.text=s(this,o)}get currentScore(){return s(this,o)}}},function(t,e,i){"use strict";i.d(e,"a",function(){return S});var a=i(2),s=i(1),r=i(3),n=i(0);function o(t,e){return function(t,e){if(e.get)return e.get.call(t);return e.value}(t,c(t,e,"get"))}function h(t,e,i){return function(t,e,i){if(e.set)e.set.call(t,i);else{if(!e.writable)throw new TypeError("attempted to set read only private field");e.value=i}}(t,c(t,e,"set"),i),i}function c(t,e,i){if(!e.has(t))throw new TypeError("attempted to "+i+" private field on non-instance");return e.get(t)}var l=new WeakMap,u=new WeakMap,g=new WeakMap,d=new WeakMap,w=new WeakMap,p=new WeakMap,v=new WeakMap,m=new WeakMap,f=new WeakMap,k=new WeakMap,x=new WeakMap,y=new WeakMap,b=new WeakMap;class S extends a.a{constructor(t,e,i,a,s,r,c,S){super(t),l.set(this,{writable:!0,value:void 0}),u.set(this,{writable:!0,value:void 0}),g.set(this,{writable:!0,value:void 0}),d.set(this,{writable:!0,value:void 0}),w.set(this,{writable:!0,value:void 0}),p.set(this,{writable:!0,value:void 0}),v.set(this,{writable:!0,value:void 0}),m.set(this,{writable:!0,value:void 0}),f.set(this,{writable:!0,value:void 0}),k.set(this,{writable:!0,value:void 0}),x.set(this,{writable:!0,value:void 0}),y.set(this,{writable:!0,value:void 0}),b.set(this,{writable:!0,value:void 0}),h(this,l,e.winScore),h(this,u,e.maxActions),h(this,g,0),h(this,d,0),h(this,w,0),h(this,p,null),h(this,v,i),h(this,m,a),h(this,f,s),h(this,k,r),h(this,x,c),h(this,y,S),o(this,x).interactive=!0,o(this,x).on(n.a.events.click,this.createMouseDownHandler()),h(this,b,[]),this.startCounter()}get actionsLeft(){return o(this,u)-o(this,g)}get time(){return o(this,d)}stopCounter(){clearInterval(o(this,p))}startCounter(){h(this,p,setInterval(()=>{var t;return h(this,d,1+(t=+o(this,d))),t},1e3))}showEndGame(){clearInterval(o(this,p));const t=new r.a(o(this,m)),e=new r.a(o(this,v),o(this,d),o(this,v).textStyle),i=new r.a(o(this,k)),a=new r.a(o(this,f),o(this,w));o(this,b).push(t,e,i,a,this,o(this,x),o(this,y)),s.a.stage.addChild(this,o(this,x),o(this,y),t,e,i,a),s.c.changeState(n.a.game.loseState)}resetCurrentState(){h(this,g,0),h(this,d,0),h(this,w,0),h(this,p,null)}createMouseDownHandler(){return()=>{this.resetCurrentState(),o(this,b).forEach(t=>s.a.stage.removeChild(t)),h(this,b,[]),s.c.changeState(n.a.game.startState),s.d.lineInterface.resetLine(),s.d.scoreInterface.resetScore(),s.d.actionsInterface.changeCurrenttext(o(this,u)),this.startCounter()}}checkWin(t){if(h(this,w,t),t>=o(this,l))return!0}win(){clearInterval(o(this,p)),o(this,b).push(o(this,x),o(this,y)),s.a.stage.addChild(o(this,x),o(this,y)),s.c.changeState(n.a.game.winState)}increaseActions(t){h(this,g,1+ +o(this,g)),this.checkWin(t)?this.win():this.checkActionsStatus()}checkActionsStatus(){o(this,g)>=o(this,u)&&this.showEndGame()}}},function(t,e,i){"use strict";i.d(e,"a",function(){return u});var a=i(2),s=i(1),r=i(0);function n(t,e){return function(t,e){if(e.get)return e.get.call(t);return e.value}(t,h(t,e,"get"))}function o(t,e,i){return function(t,e,i){if(e.set)e.set.call(t,i);else{if(!e.writable)throw new TypeError("attempted to set read only private field");e.value=i}}(t,h(t,e,"set"),i),i}function h(t,e,i){if(!e.has(t))throw new TypeError("attempted to "+i+" private field on non-instance");return e.get(t)}var c=new WeakMap,l=new WeakMap;class u extends a.a{constructor(t){super(t),c.set(this,{writable:!0,value:void 0}),l.set(this,{writable:!0,value:void 0}),o(this,c,10),this.interactive=!0,this.on(r.a.events.over,this.onMouseOver),this.on(r.a.events.out,this.onMouseOut),this.on(r.a.events.click,this.onMouseDownButton),o(this,l,!1)}onMouseOver(){this.width+=n(this,c),this.height+=n(this,c),this.x-=n(this,c)/2}onMouseOut(){this.width-=n(this,c),this.height-=n(this,c),this.x+=n(this,c)/2}onMouseDownButton(){if(s.c.getCurrentState()!==r.a.gameStates[2]&&s.c.getCurrentState()!==r.a.gameStates[3]){if(n(this,l))return o(this,l,!1),s.b.startCounter(),void s.c.changeState(r.a.game.startState);o(this,l,!0),s.b.stopCounter(),s.c.changeState(r.a.game.pauseState)}}}},function(t,e,i){"use strict";i.d(e,"a",function(){return u});var a=i(1),s=i(3),r=i(0);function n(t,e){return function(t,e){if(e.get)return e.get.call(t);return e.value}(t,h(t,e,"get"))}function o(t,e,i){return function(t,e,i){if(e.set)e.set.call(t,i);else{if(!e.writable)throw new TypeError("attempted to set read only private field");e.value=i}}(t,h(t,e,"set"),i),i}function h(t,e,i){if(!e.has(t))throw new TypeError("attempted to "+i+" private field on non-instance");return e.get(t)}var c=new WeakMap,l=new WeakMap;class u{constructor(){c.set(this,{writable:!0,value:void 0}),l.set(this,{writable:!0,value:void 0}),o(this,c,[new d,new m,new f,new p]),o(this,l,n(this,c)[0])}changeState(t){n(this,l).destroy&&n(this,l).destroy(),o(this,l,n(this,c)[t]),this.play()}getCurrentState(){return n(this,l).state}play(){n(this,l).play()}}class g{constructor(t){this.state=t}}class d extends g{constructor(){super(r.a.gameStates[0])}play(){a.d.setBlocksInteractiveState(!0)}}var w=new WeakMap;class p extends g{constructor(){super(r.a.gameStates[3]),w.set(this,{writable:!0,value:void 0}),o(this,w,new s.a(r.a.centerText,r.a.stateTexts.win,r.a.centerText.textStyle)),n(this,w).anchor.x=.1}destroy(){a.a.stage.removeChild(n(this,w))}play(){a.d.setBlocksInteractiveState(!1),a.a.stage.addChild(n(this,w))}}var v=new WeakMap;class m extends g{constructor(){super(r.a.gameStates[1]),v.set(this,{writable:!0,value:void 0}),o(this,v,new s.a(r.a.centerText,r.a.stateTexts.pause,r.a.centerText.textStyle))}setElementsNonInteractive(){a.d.setBlocksInteractiveState(!1)}createPauseNotification(){a.a.stage.addChild(n(this,v))}destroy(){a.a.stage.removeChild(n(this,v))}play(){this.setElementsNonInteractive(),this.createPauseNotification()}}class f extends g{constructor(){super(r.a.gameStates[2])}play(){a.d.setBlocksInteractiveState(!1)}}},function(t,e,i){"use strict";i.d(e,"a",function(){return l});var a=i(2),s=i(4);function r(t,e){return function(t,e){if(e.get)return e.get.call(t);return e.value}(t,o(t,e,"get"))}function n(t,e,i){return function(t,e,i){if(e.set)e.set.call(t,i);else{if(!e.writable)throw new TypeError("attempted to set read only private field");e.value=i}}(t,o(t,e,"set"),i),i}function o(t,e,i){if(!e.has(t))throw new TypeError("attempted to "+i+" private field on non-instance");return e.get(t)}var h=new WeakMap,c=new WeakMap;class l extends a.a{constructor(t,e){super(t),h.set(this,{writable:!0,value:void 0}),c.set(this,{writable:!0,value:void 0}),n(this,h,t.width),this.width=0,n(this,c,e)}resetLine(){this.width=0}increaseWidth(t){let e=s.a.getPercentage(r(this,h),100/(r(this,c)/t));e>r(this,h)?this.width=r(this,h):this.width=e}}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});i(4),i(0),i(5),i(1),i(10),i(9),i(12),i(7),i(6),i(2),i(8),i(3),i(11)}]);