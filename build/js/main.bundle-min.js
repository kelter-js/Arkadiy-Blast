!function(t){var e={};function i(a){if(e[a])return e[a].exports;var r=e[a]={i:a,l:!1,exports:{}};return t[a].call(r.exports,r,r.exports,i),r.l=!0,r.exports}i.m=t,i.c=e,i.d=function(t,e,a){i.o(t,e)||Object.defineProperty(t,e,{configurable:!1,enumerable:!0,get:a})},i.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="",i(i.s=13)}([function(t,e,i){"use strict";i.d(e,"a",function(){return B});var a=i(4);const r={bgColor:10592673,minWidth:1187,minHeight:878,columnsAmount:9,rowsAmount:7,minElementsDestroy:2,maxActions:15,winScore:500,startState:0,pauseState:1,loseState:2,winState:3},s=["start","pause","over","win"],n={path:"./../img/icons/progress-bar.png",width:a.a.getPercentage(r.minWidth,38.4),height:a.a.getPercentage(r.minHeight,10.5),y:0,get x(){return a.a.getCenterCoordinates(r.minWidth,this.width)}},o={colors:["./../img/icons/blue-brick.png","./../img/icons/red-brick.png","./../img/icons/yellow-brick.png","./../img/icons/green-brick.png","./../img/icons/purple-brick.png"],width:50,height:50,moveIndex:60,padding:15,spaceBetween:10,anchorPoint:.5},h={path:"./../img/icons/gameplay.png",padding:20,get width(){return a.a.getBoardSize(this.padding,o.width,r.columnsAmount,o.spaceBetween)},get height(){return a.a.getBoardSize(this.padding,o.height,r.rowsAmount,o.spaceBetween)},get y(){return a.a.getCenterCoordinates(r.minHeight,this.height)},get x(){return a.a.getCenterCoordinates(r.minWidth,this.width)}},c={path:"./../img/icons/progress-line.png",width:a.a.getPercentage(r.minWidth,35.4),height:a.a.getPercentage(r.minHeight,3.4),y:a.a.getPercentage(r.minHeight,4.7),x:a.a.getPercentage(r.minWidth,32.1)},l={path:"./../img/icons/money-2.png",width:a.a.getPercentage(r.minWidth,11.3),height:a.a.getPercentage(r.minHeight,6.5),get y(){return a.a.getPercentage(r.minWidth,12)-this.height/2},get x(){return a.a.getPercentage(r.minWidth,12)-this.width/2}},u={y:l.y+a.a.getPercentage(l.y,10),x:l.x+a.a.getPercentage(l.x,50),start:0,modifier:10,textStyle:new PIXI.TextStyle({fontFamily:"Marvin-Shadow",fontSize:24,fill:"white",stroke:"white",strokeThickness:2})},g={path:"./../img/icons/placeholder-purple.png",width:a.a.getPercentage(r.minWidth,14.1),height:a.a.getPercentage(r.minHeight,6.5),y:a.a.getPercentage(r.minHeight,12),get x(){return a.a.getPercentage(r.minWidth,83)-this.width/2}},d={y:g.y+a.a.getPercentage(g.y,10),x:g.x+a.a.getPercentage(g.y,50)},w={path:"./../img/icons/placeholder-purple.png",width:a.a.getPercentage(r.minWidth,14.1),height:a.a.getPercentage(r.minHeight,6.5),y:a.a.getPercentage(r.minHeight,25),x:g.x},p={y:a.a.getPercentage(w.y,105),x:a.a.getPercentage(w.x,108)},v={y:a.a.getPercentage(l.y,65),x:a.a.getPercentage(l.x,50),text:"Текущие очки"},m={y:a.a.getPercentage(g.y,65),x:a.a.getPercentage(g.x,103),text:"Победа"},f={y:a.a.getPercentage(w.y,80),x:a.a.getPercentage(w.x,97),text:"Осталось ходов"},x={y:a.a.getPercentage(r.minHeight,27.5),x:a.a.getPercentage(r.minWidth,46),text:"Время:"},k={path:"./../img/icons/placeholder-purple.png",width:a.a.getPercentage(r.minWidth,17),height:a.a.getPercentage(r.minHeight,6.5),y:a.a.getPercentage(r.minHeight,85),get x(){return a.a.getPercentage(r.minWidth,50)-this.width/2}},y={y:k.y+a.a.getPercentage(k.y,1.5),x:k.x+a.a.getPercentage(k.y,.4),text:"Играть снова"},b={y:a.a.getPercentage(r.minHeight,38),x:a.a.getPercentage(r.minWidth,45.5),textStyle:new PIXI.TextStyle({fontFamily:"Marvin-Shadow",fontSize:80,fill:"white",stroke:"white",strokeThickness:5})},S={y:a.a.getPercentage(r.minHeight,58),x:a.a.getPercentage(r.minWidth,46),text:"Очки:"},W={y:a.a.getPercentage(r.minHeight,62),x:a.a.getPercentage(r.minWidth,48)},T={path:"./../img/icons/panel-score.png",width:a.a.getPercentage(r.minWidth,31.8),height:a.a.getPercentage(r.minHeight,46.8),get y(){return a.a.getCenterCoordinates(r.minHeight,this.height)},get x(){return a.a.getCenterCoordinates(r.minWidth,this.width)}},P={pause:"Пауза",win:"Победа"},M={textStyle:new PIXI.TextStyle({fontFamily:"Marvin-Shadow",fontSize:150,fill:"white",stroke:"white",strokeThickness:10}),width:562,height:209,get y(){return a.a.getCenterCoordinates(r.minHeight,this.height)},get x(){return a.a.getCenterCoordinates(r.minWidth,this.width)}},C={path:"./../img/icons/pause.png",width:a.a.getPercentage(r.minWidth,8),height:a.a.getPercentage(r.minHeight,10.4),y:a.a.getPercentage(r.minHeight,1),get x(){return a.a.getPercentage(r.minWidth,93)-this.width/2}};class B{static get block(){return o}static get board(){return h}static get maxScore(){return g}static get maxScoreText(){return d}static get actionText(){return f}static get pauseButton(){return C}static get centerText(){return M}static get progressBar(){return n}static get progressLine(){return c}static get game(){return r}static get currentScore(){return v}static get winScore(){return m}static get score(){return l}static get scoreText(){return u}static get endGameFrame(){return T}static get actions(){return w}static get actionsLeftText(){return p}static get time(){return b}static get timeText(){return x}static get finalScore(){return W}static get finatlScoreText(){return S}static get restartButton(){return k}static get restartText(){return y}static get stateTexts(){return P}static get gameStates(){return s}}},function(t,e,i){"use strict";i.d(e,"a",function(){return d}),i.d(e,"c",function(){return S}),i.d(e,"b",function(){return w});var a=i(6),r=i(0),s=i(2),n=i(8),o=i(9),h=i(3),c=i(10),l=i(11),u=i(12);let g="WebGL";PIXI.utils.isWebGLSupported()||(g="canvas");let d=new PIXI.Application({width:r.a.game.minWidth,height:r.a.game.minHeight,backgroundColor:r.a.game.bgColor});document.body.appendChild(d.view);const w=new l.a,p=new s.a(r.a.restartButton),v=new h.a(r.a.restartText),m=new n.a(r.a.scoreText),f=new u.a(r.a.progressLine,r.a.game.winScore),x=new c.a(r.a.pauseButton),k=new o.a(r.a.endGameFrame,r.a.game,r.a.time,r.a.timeText,r.a.finalScore,r.a.finatlScoreText,p,v),y=new h.a(r.a.actionsLeftText,k.actionsLeft),b=new h.a(r.a.actionText),S=new a.a(r.a.block,r.a.game,r.a.board,m,f,k,y),W=new s.a(r.a.board),T=new s.a(r.a.score),P=new s.a(r.a.maxScore),M=new h.a(r.a.maxScoreText,r.a.game.winScore),C=new s.a(r.a.actions),B=new s.a(r.a.progressBar),I=new h.a(r.a.currentScore),A=new h.a(r.a.winScore);d.loader.add([r.a.block.colors[0],r.a.block.colors[1],r.a.block.colors[2],r.a.block.colors[3],r.a.block.colors[4],r.a.score.path,r.a.maxScore.path,r.a.pauseButton.path,r.a.progressBar.path,r.a.progressLine.path,r.a.endGameFrame.path,r.a.board.path]).load((()=>()=>{W.setTextures(),T.setTextures(),P.setTextures(),x.setTextures(),B.setTextures(),f.setTextures(),k.setTextures(),C.setTextures(),p.setTextures(),d.stage.addChild(W),d.stage.addChild(T),d.stage.addChild(m),d.stage.addChild(P),d.stage.addChild(M),d.stage.addChild(x),d.stage.addChild(B),d.stage.addChild(f),d.stage.addChild(I),d.stage.addChild(A),d.stage.addChild(C),d.stage.addChild(y),d.stage.addChild(b),S.fillBlockStorage(),w.play()})())},function(t,e,i){"use strict";i.d(e,"a",function(){return o});var a=i(1);function r(t,e,i){return function(t,e,i){if(e.set)e.set.call(t,i);else{if(!e.writable)throw new TypeError("attempted to set read only private field");e.value=i}}(t,s(t,e,"set"),i),i}function s(t,e,i){if(!e.has(t))throw new TypeError("attempted to "+i+" private field on non-instance");return e.get(t)}var n=new WeakMap;class o extends PIXI.Sprite{constructor(t){super(),n.set(this,{writable:!0,value:void 0}),this.x=t.x,this.y=t.y,this.width=t.width,this.height=t.height,r(this,n,t.path),this.zOrder=0}setTextures(){var t,e;this.texture=a.a.loader.resources[(t=this,e=n,function(t,e){return e.get?e.get.call(t):e.value}(t,s(t,e,"get")))].texture}}},function(t,e,i){"use strict";i.d(e,"a",function(){return c});var a=i(0);function r(t,e){return function(t,e){if(e.get)return e.get.call(t);return e.value}(t,n(t,e,"get"))}function s(t,e,i){return function(t,e,i){if(e.set)e.set.call(t,i);else{if(!e.writable)throw new TypeError("attempted to set read only private field");e.value=i}}(t,n(t,e,"set"),i),i}function n(t,e,i){if(!e.has(t))throw new TypeError("attempted to "+i+" private field on non-instance");return e.get(t)}var o=new WeakMap,h=new WeakMap;class c extends PIXI.Text{constructor(t,e,i=a.a.scoreText.textStyle){super(),o.set(this,{writable:!0,value:void 0}),h.set(this,{writable:!0,value:void 0}),s(this,o,t.x),s(this,h,t.y),this.text=e||t.text,this.style=i,this.zOrder=1,this.setTextPosition()}setTextPosition(){this.position.set(r(this,o),r(this,h))}changeCurrenttext(t){this.text=t}}},function(t,e,i){"use strict";i.d(e,"a",function(){return a});class a{static randomInteger(t,e){return Math.floor(t+Math.random()*(e+1-t))}static getCenterCoordinates(t,e){return t/2-e/2}static getBoardSize(t,e,i,a){return t+e*i+i*a}static getPercentage(t,e){return t/100*e}static sortRow(t,e){return t.row-e.row}}},function(t,e,i){"use strict";i.d(e,"a",function(){return r});var a=i(0);class r{static fallAnimation(t,e){let i=a.a.board.y+e.row*(a.a.block.width+a.a.block.spaceBetween)+a.a.block.padding+a.a.block.width*a.a.block.anchorPoint;e.width=a.a.block.width,e.height=a.a.block.height,e.y<=i?e.y+=5*t:(e.y=i,e.stopAnimation())}static scaleAnimation(t,e){e.width<=a.a.block.width?(e.width+=2*t,e.height+=2*t):(e.width=a.a.block.width,e.height=a.a.block.height,e.stopAnimation())}}},function(t,e,i){"use strict";i.d(e,"a",function(){return H});var a=i(7),r=i(1),s=i(4);function n(t,e){return function(t,e){if(e.get)return e.get.call(t);return e.value}(t,h(t,e,"get"))}function o(t,e,i){return function(t,e,i){if(e.set)e.set.call(t,i);else{if(!e.writable)throw new TypeError("attempted to set read only private field");e.value=i}}(t,h(t,e,"set"),i),i}function h(t,e,i){if(!e.has(t))throw new TypeError("attempted to "+i+" private field on non-instance");return e.get(t)}var c=new WeakMap,l=new WeakMap,u=new WeakMap,g=new WeakMap,d=new WeakMap,w=new WeakMap,p=new WeakMap,v=new WeakMap,m=new WeakMap,f=new WeakMap,x=new WeakMap,k=new WeakMap,y=new WeakMap,b=new WeakMap,S=new WeakMap,W=new WeakMap,T=new WeakMap,P=new WeakMap,M=new WeakMap,C=new WeakMap,B=new WeakMap,I=new WeakMap,A=new WeakMap;class H{constructor(t,e,i,a,r,s,h){var H,E,O;c.set(this,{writable:!0,value:void 0}),l.set(this,{writable:!0,value:void 0}),u.set(this,{writable:!0,value:void 0}),g.set(this,{writable:!0,value:void 0}),d.set(this,{writable:!0,value:void 0}),w.set(this,{writable:!0,value:void 0}),p.set(this,{writable:!0,value:void 0}),v.set(this,{writable:!0,value:void 0}),m.set(this,{writable:!0,value:void 0}),f.set(this,{writable:!0,value:void 0}),x.set(this,{writable:!0,value:void 0}),k.set(this,{writable:!0,value:void 0}),y.set(this,{writable:!0,value:void 0}),b.set(this,{writable:!0,value:void 0}),S.set(this,{writable:!0,value:void 0}),W.set(this,{writable:!0,value:void 0}),T.set(this,{writable:!0,value:void 0}),P.set(this,{writable:!0,value:void 0}),M.set(this,{writable:!0,value:void 0}),C.set(this,{writable:!0,value:void 0}),B.set(this,{writable:!0,value:void 0}),I.set(this,{writable:!0,value:void 0}),A.set(this,{writable:!0,value:void 0}),O=void 0,(E="colorTypes")in(H=this)?Object.defineProperty(H,E,{value:O,enumerable:!0,configurable:!0,writable:!0}):H[E]=O,o(this,p,t.moveIndex),o(this,w,t.padding),o(this,v,i.x),o(this,m,i.y),o(this,f,t.width),o(this,x,t.height),o(this,k,t.anchorPoint),o(this,g,n(this,v)+n(this,w)+n(this,f)*n(this,k)),o(this,d,n(this,m)+n(this,w)+n(this,x)*n(this,k)),o(this,l,n(this,g)),o(this,u,n(this,d)),this.colorTypes=t.colors,o(this,W,e.minElementsDestroy),o(this,A,e.columnsAmount),o(this,I,e.rowsAmount),o(this,C,h),o(this,B,!1),o(this,T,a),o(this,P,r),o(this,M,s),o(this,b,"fall"),o(this,S,"scale"),this.reCreateStorages()}setBlocksInteractiveState(t){n(this,y).forEach(e=>{e.forEach(e=>{e.interactive=t})})}getTextures(t,e){return r.a.loader.resources[t[e]].texture}createStorage(t){return new Array(t).fill("")}reCreateStorages(){o(this,c,this.createStorage(n(this,A))),o(this,y,this.createStorage(n(this,I)))}getCoordinate(t,e,i,a,r,s){return t+e+i*a+r*s}createBlock(t,e,i){if(t)return new a.a(t);{const t=s.a.randomInteger(0,4),r={texture:this.getTextures(this.colorTypes,t),row:e,column:i,x:this.getCoordinate(n(this,v),n(this,w),i,n(this,p),n(this,f),n(this,k)),y:this.getCoordinate(n(this,m),n(this,w),e,n(this,p),n(this,x),n(this,k)),blockType:t};return new a.a(r)}}get lineInterface(){return n(this,P)}get scoreInterface(){return n(this,T)}reRenderBlock(t){t.stopAnimation().setAnimation(n(this,b)).initAnimation().startAnimation()}moveBlocks(t){t.sort(s.a.sortRow).forEach(t=>{this.moveBlockColumn(t.row,t.column)})}removeBlocks(t){t.forEach(t=>{r.a.stage.removeChild(t);const e=t.row,i=t.column;n(this,y)[e][i]=null})}checkSameType(t,e,i){n(this,y)[t]&&n(this,y)[t][e]&&n(this,y)[t][e].type===i&&o(this,B,!0)}checkAllColors(){n(this,y).map((t,e)=>{t.map((t,i)=>{n(this,B)||(this.checkSameType(e+1,i,t.type),this.checkSameType(e-1,i,t.type),this.checkSameType(e,i+1,t.type),this.checkSameType(e,i-1,t.type))})})}onBlockHit(t,e,i,a){if(n(this,y)[e]&&n(this,y)[e][i]){const r=n(this,y)[e][i];t.includes(r)||r.type!==a||(t.push(r),this.onBlockHit(t,e+1,i,a),this.onBlockHit(t,e-1,i,a),this.onBlockHit(t,e,i+1,a),this.onBlockHit(t,e,i-1,a))}}moveBlockColumn(t,e){for(let i=t;i>0;i--)n(this,y)[i][e]=n(this,y)[i-1][e],n(this,y)[i-1][e]=null,n(this,y)[i][e]&&(n(this,y)[i][e].row=i,this.reRenderBlock(n(this,y)[i][e]))}reFillBoard(t){t.map((t,e)=>{t.map((t,i)=>{if(!t){const t=this.createBlock(null,e,i);t.width=0,t.height=0,t.setAnimation(n(this,S)).initAnimation().startAnimation(),t.on("mousedown",this.blockOnMouseDown()),n(this,y)[e][i]=t,r.a.stage.addChild(t)}})})}clearBoard(){n(this,y).map(t=>{t.map(t=>{r.a.stage.removeChild(t)})})}blockOnMouseDown(){return t=>{const e=t.target,i=[];this.onBlockHit(i,e.row,e.column,e.type),i.length<n(this,W)||(this.removeBlocks(i),this.moveBlocks(i),n(this,T).increaseCounter(i.length),n(this,P).increaseWidth(n(this,T).currentScore),this.reFillBoard(n(this,y)),this.checkAllColors(),n(this,B)||(this.clearBoard(),this.reCreateStorages(),this.fillBlockStorage()),o(this,B,!1),n(this,M).increaseActions(n(this,T).currentScore),n(this,C).changeCurrenttext(n(this,M).actionsLeft))}}fillBlockStorage(){o(this,y,n(this,y).map((t,e)=>(o(this,c,n(this,c).map((t,i)=>{const a=s.a.randomInteger(0,4),h={texture:this.getTextures(this.colorTypes,a),x:n(this,l),y:n(this,u),row:e,column:i,blockType:a};return(t=this.createBlock(h)).on("mousedown",this.blockOnMouseDown()),r.a.stage.addChild(t),o(this,l,n(this,l)+n(this,p)),t})),o(this,l,n(this,g)),o(this,u,n(this,u)+n(this,p)),n(this,c)))),o(this,l,n(this,g)),o(this,u,n(this,d)),this.checkAllColors(),n(this,B)||(this.clearBoard(),this.reCreateStorages(),this.fillBlockStorage()),o(this,B,!1)}}},function(t,e,i){"use strict";i.d(e,"a",function(){return d});var a=i(0),r=i(5);function s(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}function n(t,e){return function(t,e){if(e.get)return e.get.call(t);return e.value}(t,h(t,e,"get"))}function o(t,e,i){return function(t,e,i){if(e.set)e.set.call(t,i);else{if(!e.writable)throw new TypeError("attempted to set read only private field");e.value=i}}(t,h(t,e,"set"),i),i}function h(t,e,i){if(!e.has(t))throw new TypeError("attempted to "+i+" private field on non-instance");return e.get(t)}var c=new WeakMap,l=new WeakMap,u=new WeakMap,g=new WeakMap;class d extends PIXI.Sprite{constructor(t){super(),c.set(this,{writable:!0,value:void 0}),s(this,"row",void 0),s(this,"column",void 0),l.set(this,{writable:!0,value:void 0}),u.set(this,{writable:!0,value:void 0}),g.set(this,{writable:!0,value:void 0}),this.texture=t.texture,this.x=t.x,this.y=t.y,this.row=t.row,this.column=t.column,this.interactive=!0,o(this,l,t.blockType),this.anchor.set(a.a.block.anchorPoint),o(this,u,{fall:r.a.fallAnimation,scale:r.a.scaleAnimation}),o(this,g,"fall"),this.width=a.a.block.width,this.height=a.a.block.height,this.initAnimation()}setAnimation(t){return o(this,g,t),this}initAnimation(){return o(this,c,new PIXI.Ticker),n(this,c).add(t=>n(this,u)[n(this,g)](t,this)),this}startAnimation(){n(this,c).start()}stopAnimation(){return n(this,c).stop(),this}get type(){return n(this,l)}}},function(t,e,i){"use strict";i.d(e,"a",function(){return c});var a=i(3);function r(t,e){return function(t,e){if(e.get)return e.get.call(t);return e.value}(t,n(t,e,"get"))}function s(t,e,i){return function(t,e,i){if(e.set)e.set.call(t,i);else{if(!e.writable)throw new TypeError("attempted to set read only private field");e.value=i}}(t,n(t,e,"set"),i),i}function n(t,e,i){if(!e.has(t))throw new TypeError("attempted to "+i+" private field on non-instance");return e.get(t)}var o=new WeakMap,h=new WeakMap;class c extends a.a{constructor(t){super(t),o.set(this,{writable:!0,value:void 0}),h.set(this,{writable:!0,value:void 0}),s(this,o,t.start),s(this,h,t.modifier),this.text=r(this,o)}increaseCounter(t){s(this,o,r(this,o)+t*r(this,h)),this.text=r(this,o)}resetScore(){s(this,o,0),this.text=r(this,o)}get currentScore(){return r(this,o)}}},function(t,e,i){"use strict";i.d(e,"a",function(){return S});var a=i(2),r=i(1),s=i(3),n=i(0);function o(t,e){return function(t,e){if(e.get)return e.get.call(t);return e.value}(t,c(t,e,"get"))}function h(t,e,i){return function(t,e,i){if(e.set)e.set.call(t,i);else{if(!e.writable)throw new TypeError("attempted to set read only private field");e.value=i}}(t,c(t,e,"set"),i),i}function c(t,e,i){if(!e.has(t))throw new TypeError("attempted to "+i+" private field on non-instance");return e.get(t)}var l=new WeakMap,u=new WeakMap,g=new WeakMap,d=new WeakMap,w=new WeakMap,p=new WeakMap,v=new WeakMap,m=new WeakMap,f=new WeakMap,x=new WeakMap,k=new WeakMap,y=new WeakMap,b=new WeakMap;class S extends a.a{constructor(t,e,i,a,r,s,n,c){super(t),l.set(this,{writable:!0,value:void 0}),u.set(this,{writable:!0,value:void 0}),g.set(this,{writable:!0,value:void 0}),d.set(this,{writable:!0,value:void 0}),w.set(this,{writable:!0,value:void 0}),p.set(this,{writable:!0,value:void 0}),v.set(this,{writable:!0,value:void 0}),m.set(this,{writable:!0,value:void 0}),f.set(this,{writable:!0,value:void 0}),x.set(this,{writable:!0,value:void 0}),k.set(this,{writable:!0,value:void 0}),y.set(this,{writable:!0,value:void 0}),b.set(this,{writable:!0,value:void 0}),h(this,l,e.winScore),h(this,u,e.maxActions),h(this,g,0),h(this,d,0),h(this,w,0),h(this,p,null),h(this,v,i),h(this,m,a),h(this,f,r),h(this,x,s),h(this,k,n),h(this,y,c),o(this,k).interactive=!0,o(this,k).on("mousedown",this.createMouseDownHandler()),h(this,b,[]),this.startCounter()}get actionsLeft(){return o(this,u)-o(this,g)}get time(){return o(this,d)}startCounter(){h(this,p,setInterval(()=>{var t;return h(this,d,1+(t=+o(this,d))),t},1e3))}showEndGame(){clearInterval(o(this,p));const t=new s.a(o(this,m)),e=new s.a(o(this,v),o(this,d),o(this,v).textStyle),i=new s.a(o(this,x)),a=new s.a(o(this,f),o(this,w));e.anchor.x=-.1,o(this,b).push(t,e,i,a,this,o(this,k),o(this,y)),r.a.stage.addChild(this,o(this,k),o(this,y),t,e,i,a),r.b.changeState(n.a.game.loseState)}resetCurrentState(){h(this,g,0),h(this,d,0),h(this,w,0),h(this,p,null)}createMouseDownHandler(){return()=>{this.resetCurrentState(),o(this,b).forEach(t=>r.a.stage.removeChild(t)),h(this,b,[]),r.b.changeState(n.a.game.startState),r.c.lineInterface.resetLine(),r.c.scoreInterface.resetScore(),this.startCounter()}}checkWin(t){if(h(this,w,t),t>=o(this,l))return!0}win(){clearInterval(o(this,p)),o(this,b).push(o(this,k),o(this,y)),r.a.stage.addChild(o(this,k),o(this,y)),r.b.changeState(n.a.game.winState)}increaseActions(t){h(this,g,1+ +o(this,g)),this.checkWin(t)?this.win():this.checkActionsStatus()}checkActionsStatus(){o(this,g)>=o(this,u)&&this.showEndGame()}}},function(t,e,i){"use strict";i.d(e,"a",function(){return u});var a=i(2),r=i(1),s=i(0);function n(t,e){return function(t,e){if(e.get)return e.get.call(t);return e.value}(t,h(t,e,"get"))}function o(t,e,i){return function(t,e,i){if(e.set)e.set.call(t,i);else{if(!e.writable)throw new TypeError("attempted to set read only private field");e.value=i}}(t,h(t,e,"set"),i),i}function h(t,e,i){if(!e.has(t))throw new TypeError("attempted to "+i+" private field on non-instance");return e.get(t)}var c=new WeakMap,l=new WeakMap;class u extends a.a{constructor(t){super(t),c.set(this,{writable:!0,value:void 0}),l.set(this,{writable:!0,value:void 0}),o(this,c,10),this.interactive=!0,this.on("mouseover",this.onMouseOver),this.on("mouseout",this.onMouseOut),this.on("mousedown",this.onMouseDownButton),o(this,l,!1)}onMouseOver(){this.width+=n(this,c),this.height+=n(this,c),this.x-=n(this,c)/2}onMouseOut(){this.width-=n(this,c),this.height-=n(this,c),this.x+=n(this,c)/2}onMouseDownButton(){if("over"!==r.b.getCurrentState()&&"win"!==r.b.getCurrentState()){if(n(this,l))return o(this,l,!1),void r.b.changeState(s.a.game.startState);o(this,l,!0),r.b.changeState(s.a.game.pauseState)}}}},function(t,e,i){"use strict";i.d(e,"a",function(){return u});var a=i(1),r=i(3),s=i(0);function n(t,e){return function(t,e){if(e.get)return e.get.call(t);return e.value}(t,h(t,e,"get"))}function o(t,e,i){return function(t,e,i){if(e.set)e.set.call(t,i);else{if(!e.writable)throw new TypeError("attempted to set read only private field");e.value=i}}(t,h(t,e,"set"),i),i}function h(t,e,i){if(!e.has(t))throw new TypeError("attempted to "+i+" private field on non-instance");return e.get(t)}var c=new WeakMap,l=new WeakMap;class u{constructor(){c.set(this,{writable:!0,value:void 0}),l.set(this,{writable:!0,value:void 0}),o(this,c,[new d,new m,new f,new p]),o(this,l,n(this,c)[0])}changeState(t){n(this,l).destroy&&n(this,l).destroy(),o(this,l,n(this,c)[t]),this.play()}getCurrentState(){return n(this,l).state}play(){n(this,l).play()}}class g{constructor(t){this.state=t}}class d extends g{constructor(){super(s.a.gameStates[0])}play(){a.c.setBlocksInteractiveState(!0)}}var w=new WeakMap;class p extends g{constructor(){super(s.a.gameStates[3]),w.set(this,{writable:!0,value:void 0}),o(this,w,new r.a(s.a.centerText,s.a.stateTexts.win,s.a.centerText.textStyle)),n(this,w).anchor.x=.1}destroy(){a.a.stage.removeChild(n(this,w))}play(){a.c.setBlocksInteractiveState(!1),a.a.stage.addChild(n(this,w))}}var v=new WeakMap;class m extends g{constructor(){super(s.a.gameStates[1]),v.set(this,{writable:!0,value:void 0}),o(this,v,new r.a(s.a.centerText,s.a.stateTexts.pause,s.a.centerText.textStyle))}setElementsNonInteractive(){a.c.setBlocksInteractiveState(!1)}createPauseNotification(){a.a.stage.addChild(n(this,v))}destroy(){a.a.stage.removeChild(n(this,v))}play(){this.setElementsNonInteractive(),this.createPauseNotification()}}class f extends g{constructor(){super(s.a.gameStates[2])}play(){a.c.setBlocksInteractiveState(!1)}}},function(t,e,i){"use strict";i.d(e,"a",function(){return l});var a=i(2),r=i(4);function s(t,e){return function(t,e){if(e.get)return e.get.call(t);return e.value}(t,o(t,e,"get"))}function n(t,e,i){return function(t,e,i){if(e.set)e.set.call(t,i);else{if(!e.writable)throw new TypeError("attempted to set read only private field");e.value=i}}(t,o(t,e,"set"),i),i}function o(t,e,i){if(!e.has(t))throw new TypeError("attempted to "+i+" private field on non-instance");return e.get(t)}var h=new WeakMap,c=new WeakMap;class l extends a.a{constructor(t,e){super(t),h.set(this,{writable:!0,value:void 0}),c.set(this,{writable:!0,value:void 0}),n(this,h,t.width),this.width=0,n(this,c,e)}resetLine(){this.width=0}increaseWidth(t){let e=r.a.getPercentage(s(this,h),100/(s(this,c)/t));e>s(this,h)?this.width=s(this,h):this.width=e}}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});i(4),i(0),i(5),i(1),i(10),i(9),i(12),i(7),i(6),i(2),i(8),i(3),i(11)}]);