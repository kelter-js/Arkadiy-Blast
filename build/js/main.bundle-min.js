!function(t){var e={};function i(a){if(e[a])return e[a].exports;var n=e[a]={i:a,l:!1,exports:{}};return t[a].call(n.exports,n,n.exports,i),n.l=!0,n.exports}i.m=t,i.c=e,i.d=function(t,e,a){i.o(t,e)||Object.defineProperty(t,e,{configurable:!1,enumerable:!0,get:a})},i.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="",i(i.s=13)}([function(t,e,i){"use strict";i.d(e,"a",function(){return B});var a=i(4);const n={bgColor:10592673,minWidth:1187,minHeight:878,columnsAmount:9,rowsAmount:7,minElementsDestroy:2,maxActions:15,winScore:500,startState:0,pauseState:1,loseState:2,winState:3},r=["start","pause","over","win"],s={path:"./../img/icons/progress-bar.png",width:a.a.getPercentage(n.minWidth,38.4),height:a.a.getPercentage(n.minHeight,10.5),y:0,get x(){return a.a.getCenterCoordinates(n.minWidth,this.width)}},o={colors:["./../img/icons/blue-brick.png","./../img/icons/red-brick.png","./../img/icons/yellow-brick.png","./../img/icons/green-brick.png","./../img/icons/purple-brick.png"],width:50,height:50,moveIndex:60,padding:15,spaceBetween:10,anchorPoint:.5},h={path:"./../img/icons/gameplay.png",padding:20,get width(){return a.a.getBoardSize(this.padding,o.width,n.columnsAmount,o.spaceBetween)},get height(){return a.a.getBoardSize(this.padding,o.height,n.rowsAmount,o.spaceBetween)},get y(){return a.a.getCenterCoordinates(n.minHeight,this.height)},get x(){return a.a.getCenterCoordinates(n.minWidth,this.width)}},c={path:"./../img/icons/progress-line.png",width:a.a.getPercentage(n.minWidth,35.4),height:a.a.getPercentage(n.minHeight,3.4),y:a.a.getPercentage(n.minHeight,4.7),x:a.a.getPercentage(n.minWidth,32.1)},l={path:"./../img/icons/money-2.png",width:a.a.getPercentage(n.minWidth,11.3),height:a.a.getPercentage(n.minHeight,6.5),get y(){return a.a.getPercentage(n.minWidth,12)-this.height/2},get x(){return a.a.getPercentage(n.minWidth,12)-this.width/2}},u={y:l.y+a.a.getPercentage(l.y,10),x:l.x+a.a.getPercentage(l.x,50),start:0,modifier:10,textStyle:new PIXI.TextStyle({fontFamily:"Marvin-Shadow",fontSize:24,fill:"white",stroke:"white",strokeThickness:2})},g={path:"./../img/icons/placeholder-purple.png",width:a.a.getPercentage(n.minWidth,14.1),height:a.a.getPercentage(n.minHeight,6.5),y:a.a.getPercentage(n.minHeight,12),get x(){return a.a.getPercentage(n.minWidth,83)-this.width/2}},d={y:g.y+a.a.getPercentage(g.y,10),x:g.x+a.a.getPercentage(g.y,50)},w={path:"./../img/icons/placeholder-purple.png",width:a.a.getPercentage(n.minWidth,14.1),height:a.a.getPercentage(n.minHeight,6.5),y:a.a.getPercentage(n.minHeight,25),x:g.x},p={y:a.a.getPercentage(w.y,105),x:a.a.getPercentage(w.x,108)},v={y:a.a.getPercentage(l.y,65),x:a.a.getPercentage(l.x,50),text:"Текущие очки"},m={y:a.a.getPercentage(g.y,65),x:a.a.getPercentage(g.x,103),text:"Победа"},f={y:a.a.getPercentage(w.y,80),x:a.a.getPercentage(w.x,97),text:"Осталось ходов"},x={y:a.a.getPercentage(n.minHeight,27.5),x:a.a.getPercentage(n.minWidth,46),text:"Время:"},b={path:"./../img/icons/placeholder-purple.png",width:a.a.getPercentage(n.minWidth,17),height:a.a.getPercentage(n.minHeight,6.5),y:a.a.getPercentage(n.minHeight,85),get x(){return a.a.getPercentage(n.minWidth,50)-this.width/2}},y={y:b.y+a.a.getPercentage(b.y,1.5),x:b.x+a.a.getPercentage(b.y,.4),text:"Играть снова"},k={y:a.a.getPercentage(n.minHeight,38),x:a.a.getPercentage(n.minWidth,45.5),textStyle:new PIXI.TextStyle({fontFamily:"Marvin-Shadow",fontSize:80,fill:"white",stroke:"white",strokeThickness:5})},S={y:a.a.getPercentage(n.minHeight,58),x:a.a.getPercentage(n.minWidth,46),text:"Очки:"},W={y:a.a.getPercentage(n.minHeight,62),x:a.a.getPercentage(n.minWidth,48)},P={path:"./../img/icons/panel-score.png",width:a.a.getPercentage(n.minWidth,31.8),height:a.a.getPercentage(n.minHeight,46.8),get y(){return a.a.getCenterCoordinates(n.minHeight,this.height)},get x(){return a.a.getCenterCoordinates(n.minWidth,this.width)}},T={pause:"Пауза",win:"Победа"},M={textStyle:new PIXI.TextStyle({fontFamily:"Marvin-Shadow",fontSize:150,fill:"white",stroke:"white",strokeThickness:10}),width:562,height:209,get y(){return a.a.getCenterCoordinates(n.minHeight,this.height)},get x(){return a.a.getCenterCoordinates(n.minWidth,this.width)}},C={path:"./../img/icons/pause.png",width:a.a.getPercentage(n.minWidth,8),height:a.a.getPercentage(n.minHeight,10.4),y:a.a.getPercentage(n.minHeight,1),get x(){return a.a.getPercentage(n.minWidth,93)-this.width/2}};class B{static get block(){return o}static get board(){return h}static get maxScore(){return g}static get maxScoreText(){return d}static get actionText(){return f}static get pauseButton(){return C}static get centerText(){return M}static get progressBar(){return s}static get progressLine(){return c}static get game(){return n}static get currentScore(){return v}static get winScore(){return m}static get score(){return l}static get scoreText(){return u}static get endGameFrame(){return P}static get actions(){return w}static get actionsLeftText(){return p}static get time(){return k}static get timeText(){return x}static get finalScore(){return W}static get finatlScoreText(){return S}static get restartButton(){return b}static get restartText(){return y}static get stateTexts(){return T}static get gameStates(){return r}}},function(t,e,i){"use strict";i.d(e,"a",function(){return d}),i.d(e,"c",function(){return S}),i.d(e,"b",function(){return w});var a=i(6),n=i(0),r=i(2),s=i(8),o=i(9),h=i(3),c=i(10),l=i(11),u=i(12);let g="WebGL";PIXI.utils.isWebGLSupported()||(g="canvas");let d=new PIXI.Application({width:n.a.game.minWidth,height:n.a.game.minHeight,backgroundColor:n.a.game.bgColor});document.body.appendChild(d.view);const w=new l.a,p=new r.a(n.a.restartButton),v=new h.a(n.a.restartText),m=new s.a(n.a.scoreText),f=new u.a(n.a.progressLine,n.a.game.winScore),x=new c.a(n.a.pauseButton),b=new o.a(n.a.endGameFrame,n.a.game,n.a.time,n.a.timeText,n.a.finalScore,n.a.finatlScoreText,p,v),y=new h.a(n.a.actionsLeftText,b.actionsLeft),k=new h.a(n.a.actionText),S=new a.a(n.a.block,n.a.game,n.a.board,m,f,b,y),W=new r.a(n.a.board),P=new r.a(n.a.score),T=new r.a(n.a.maxScore),M=new h.a(n.a.maxScoreText,n.a.game.winScore),C=new r.a(n.a.actions),B=new r.a(n.a.progressBar),I=new h.a(n.a.currentScore),A=new h.a(n.a.winScore);d.loader.add([n.a.block.colors[0],n.a.block.colors[1],n.a.block.colors[2],n.a.block.colors[3],n.a.block.colors[4],n.a.score.path,n.a.maxScore.path,n.a.pauseButton.path,n.a.progressBar.path,n.a.progressLine.path,n.a.endGameFrame.path,n.a.board.path]).load((()=>()=>{W.setTextures(),P.setTextures(),T.setTextures(),x.setTextures(),B.setTextures(),f.setTextures(),b.setTextures(),C.setTextures(),p.setTextures(),d.stage.addChild(W),d.stage.addChild(P),d.stage.addChild(m),d.stage.addChild(T),d.stage.addChild(M),d.stage.addChild(x),d.stage.addChild(B),d.stage.addChild(f),d.stage.addChild(I),d.stage.addChild(A),d.stage.addChild(C),d.stage.addChild(y),d.stage.addChild(k),S.fillBlockStorage(),w.play()})())},function(t,e,i){"use strict";i.d(e,"a",function(){return o});var a=i(1);function n(t,e,i){return function(t,e,i){if(e.set)e.set.call(t,i);else{if(!e.writable)throw new TypeError("attempted to set read only private field");e.value=i}}(t,r(t,e,"set"),i),i}function r(t,e,i){if(!e.has(t))throw new TypeError("attempted to "+i+" private field on non-instance");return e.get(t)}var s=new WeakMap;class o extends PIXI.Sprite{constructor(t){super(),s.set(this,{writable:!0,value:void 0}),this.x=t.x,this.y=t.y,this.width=t.width,this.height=t.height,n(this,s,t.path),this.zOrder=0}setTextures(){var t,e;this.texture=a.a.loader.resources[(t=this,e=s,function(t,e){return e.get?e.get.call(t):e.value}(t,r(t,e,"get")))].texture}}},function(t,e,i){"use strict";i.d(e,"a",function(){return c});var a=i(0);function n(t,e){return function(t,e){if(e.get)return e.get.call(t);return e.value}(t,s(t,e,"get"))}function r(t,e,i){return function(t,e,i){if(e.set)e.set.call(t,i);else{if(!e.writable)throw new TypeError("attempted to set read only private field");e.value=i}}(t,s(t,e,"set"),i),i}function s(t,e,i){if(!e.has(t))throw new TypeError("attempted to "+i+" private field on non-instance");return e.get(t)}var o=new WeakMap,h=new WeakMap;class c extends PIXI.Text{constructor(t,e,i=a.a.scoreText.textStyle){super(),o.set(this,{writable:!0,value:void 0}),h.set(this,{writable:!0,value:void 0}),r(this,o,t.x),r(this,h,t.y),this.text=e||t.text,this.style=i,this.zOrder=1,this.setTextPosition()}setTextPosition(){this.position.set(n(this,o),n(this,h))}changeCurrenttext(t){this.text=t}}},function(t,e,i){"use strict";i.d(e,"a",function(){return a});class a{static randomInteger(t,e){return Math.floor(t+Math.random()*(e+1-t))}static getCenterCoordinates(t,e){return t/2-e/2}static getBoardSize(t,e,i,a){return t+e*i+i*a}static getPercentage(t,e){return t/100*e}static sortRow(t,e){return t.row-e.row}}},function(t,e,i){"use strict";i.d(e,"a",function(){return n});var a=i(0);class n{static fallAnimation(t,e){let i=a.a.board.y+e.row*(a.a.block.width+a.a.block.spaceBetween)+a.a.block.padding+a.a.block.width*a.a.block.anchorPoint;e.width=a.a.block.width,e.height=a.a.block.height,e.y<=i?e.y+=5*t:(e.y=i,e.stopAnimation())}static scaleAnimation(t,e){e.width<=a.a.block.width?(e.width+=2*t,e.height+=2*t):(e.width=a.a.block.width,e.height=a.a.block.height,e.stopAnimation())}}},function(t,e,i){"use strict";i.d(e,"a",function(){return B});var a=i(7),n=i(1),r=i(4);function s(t,e){return function(t,e){if(e.get)return e.get.call(t);return e.value}(t,h(t,e,"get"))}function o(t,e,i){return function(t,e,i){if(e.set)e.set.call(t,i);else{if(!e.writable)throw new TypeError("attempted to set read only private field");e.value=i}}(t,h(t,e,"set"),i),i}function h(t,e,i){if(!e.has(t))throw new TypeError("attempted to "+i+" private field on non-instance");return e.get(t)}var c=new WeakMap,l=new WeakMap,u=new WeakMap,g=new WeakMap,d=new WeakMap,w=new WeakMap,p=new WeakMap,v=new WeakMap,m=new WeakMap,f=new WeakMap,x=new WeakMap,b=new WeakMap,y=new WeakMap,k=new WeakMap,S=new WeakMap,W=new WeakMap,P=new WeakMap,T=new WeakMap,M=new WeakMap,C=new WeakMap;class B{constructor(t,e,i,a,n,r,h){var B,I,A;c.set(this,{writable:!0,value:void 0}),l.set(this,{writable:!0,value:void 0}),u.set(this,{writable:!0,value:void 0}),g.set(this,{writable:!0,value:void 0}),d.set(this,{writable:!0,value:void 0}),w.set(this,{writable:!0,value:void 0}),p.set(this,{writable:!0,value:void 0}),v.set(this,{writable:!0,value:void 0}),m.set(this,{writable:!0,value:void 0}),f.set(this,{writable:!0,value:void 0}),x.set(this,{writable:!0,value:void 0}),b.set(this,{writable:!0,value:void 0}),y.set(this,{writable:!0,value:void 0}),k.set(this,{writable:!0,value:void 0}),S.set(this,{writable:!0,value:void 0}),W.set(this,{writable:!0,value:void 0}),P.set(this,{writable:!0,value:void 0}),T.set(this,{writable:!0,value:void 0}),M.set(this,{writable:!0,value:void 0}),C.set(this,{writable:!0,value:void 0}),A=void 0,(I="colorTypes")in(B=this)?Object.defineProperty(B,I,{value:A,enumerable:!0,configurable:!0,writable:!0}):B[I]=A,o(this,p,t.moveIndex),o(this,w,t.padding),o(this,v,i.x),o(this,m,i.y),o(this,f,t.width),o(this,x,t.height),o(this,b,t.anchorPoint),o(this,g,s(this,v)+s(this,w)+s(this,f)*s(this,b)),o(this,d,s(this,m)+s(this,w)+s(this,x)*s(this,b)),o(this,l,s(this,g)),o(this,u,s(this,d)),this.colorTypes=t.colors,o(this,W,e.minElementsDestroy),o(this,C,h),o(this,P,a),o(this,T,n),o(this,M,r),o(this,k,"fall"),o(this,S,"scale"),o(this,c,this.createStorage(e.columnsAmount)),o(this,y,this.createStorage(e.rowsAmount))}setBlocksInteractiveState(t){s(this,y).forEach(e=>{e.forEach(e=>{e.interactive=t})})}getTextures(t,e){return n.a.loader.resources[t[e]].texture}createStorage(t){return new Array(t).fill("")}getCoordinate(t,e,i,a,n,r){return t+e+i*a+n*r}createBlock(t,e,i){if(t)return new a.a(t);{const t=r.a.randomInteger(0,4),n={texture:this.getTextures(this.colorTypes,t),row:e,column:i,x:this.getCoordinate(s(this,v),s(this,w),i,s(this,p),s(this,f),s(this,b)),y:this.getCoordinate(s(this,m),s(this,w),e,s(this,p),s(this,x),s(this,b)),blockType:t};return new a.a(n)}}get lineInterface(){return s(this,T)}get scoreInterface(){return s(this,P)}reRenderBlock(t){t.stopAnimation().setAnimation(s(this,k)).initAnimation().startAnimation()}moveBlocks(t){t.sort(r.a.sortRow).forEach(t=>{this.moveBlockColumn(t.row,t.column)})}removeBlocks(t){t.forEach(t=>{n.a.stage.removeChild(t);const e=t.row,i=t.column;s(this,y)[e][i]=null})}onBlockHit(t,e,i,a){if(s(this,y)[e]&&s(this,y)[e][i]){const n=s(this,y)[e][i];t.includes(n)||n.type!==a||(t.push(n),this.onBlockHit(t,e+1,i,a),this.onBlockHit(t,e-1,i,a),this.onBlockHit(t,e,i+1,a),this.onBlockHit(t,e,i-1,a))}}moveBlockColumn(t,e){for(let i=t;i>0;i--)s(this,y)[i][e]=s(this,y)[i-1][e],s(this,y)[i-1][e]=null,s(this,y)[i][e]&&(s(this,y)[i][e].row=i,this.reRenderBlock(s(this,y)[i][e]))}reFillBoard(t){t.map((t,e)=>{t.map((t,i)=>{if(!t){const t=this.createBlock(null,e,i);t.width=0,t.height=0,t.setAnimation(s(this,S)).initAnimation().startAnimation(),t.on("mousedown",this.blockOnMouseDown()),s(this,y)[e][i]=t,n.a.stage.addChild(t)}})})}blockOnMouseDown(){return t=>{const e=t.target,i=[];this.onBlockHit(i,e.row,e.column,e.type),i.length<s(this,W)||(this.removeBlocks(i),this.moveBlocks(i),s(this,P).increaseCounter(i.length),s(this,T).increaseWidth(s(this,P).currentScore),this.reFillBoard(s(this,y)),s(this,M).increaseActions(s(this,P).currentScore),s(this,C).changeCurrenttext(s(this,M).actionsLeft))}}fillBlockStorage(){o(this,y,s(this,y).map((t,e)=>(o(this,c,s(this,c).map((t,i)=>{const a=r.a.randomInteger(0,4),h={texture:this.getTextures(this.colorTypes,a),x:s(this,l),y:s(this,u),row:e,column:i,blockType:a};return(t=this.createBlock(h)).on("mousedown",this.blockOnMouseDown()),n.a.stage.addChild(t),o(this,l,s(this,l)+s(this,p)),t})),o(this,l,s(this,g)),o(this,u,s(this,u)+s(this,p)),s(this,c))))}}},function(t,e,i){"use strict";i.d(e,"a",function(){return d});var a=i(0),n=i(5);function r(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}function s(t,e){return function(t,e){if(e.get)return e.get.call(t);return e.value}(t,h(t,e,"get"))}function o(t,e,i){return function(t,e,i){if(e.set)e.set.call(t,i);else{if(!e.writable)throw new TypeError("attempted to set read only private field");e.value=i}}(t,h(t,e,"set"),i),i}function h(t,e,i){if(!e.has(t))throw new TypeError("attempted to "+i+" private field on non-instance");return e.get(t)}var c=new WeakMap,l=new WeakMap,u=new WeakMap,g=new WeakMap;class d extends PIXI.Sprite{constructor(t){super(),c.set(this,{writable:!0,value:void 0}),r(this,"row",void 0),r(this,"column",void 0),l.set(this,{writable:!0,value:void 0}),u.set(this,{writable:!0,value:void 0}),g.set(this,{writable:!0,value:void 0}),this.texture=t.texture,this.x=t.x,this.y=t.y,this.row=t.row,this.column=t.column,this.interactive=!0,o(this,l,t.blockType),this.anchor.set(a.a.block.anchorPoint),o(this,u,{fall:n.a.fallAnimation,scale:n.a.scaleAnimation}),o(this,g,"fall"),this.width=a.a.block.width,this.height=a.a.block.height,this.initAnimation()}setAnimation(t){return o(this,g,t),this}initAnimation(){return o(this,c,new PIXI.Ticker),s(this,c).add(t=>s(this,u)[s(this,g)](t,this)),this}startAnimation(){s(this,c).start()}stopAnimation(){return s(this,c).stop(),this}get type(){return s(this,l)}}},function(t,e,i){"use strict";i.d(e,"a",function(){return c});var a=i(3);function n(t,e){return function(t,e){if(e.get)return e.get.call(t);return e.value}(t,s(t,e,"get"))}function r(t,e,i){return function(t,e,i){if(e.set)e.set.call(t,i);else{if(!e.writable)throw new TypeError("attempted to set read only private field");e.value=i}}(t,s(t,e,"set"),i),i}function s(t,e,i){if(!e.has(t))throw new TypeError("attempted to "+i+" private field on non-instance");return e.get(t)}var o=new WeakMap,h=new WeakMap;class c extends a.a{constructor(t){super(t),o.set(this,{writable:!0,value:void 0}),h.set(this,{writable:!0,value:void 0}),r(this,o,t.start),r(this,h,t.modifier),this.text=n(this,o)}increaseCounter(t){r(this,o,n(this,o)+t*n(this,h)),this.text=n(this,o)}resetScore(){r(this,o,0),this.text=n(this,o)}get currentScore(){return n(this,o)}}},function(t,e,i){"use strict";i.d(e,"a",function(){return S});var a=i(2),n=i(1),r=i(3),s=i(0);function o(t,e){return function(t,e){if(e.get)return e.get.call(t);return e.value}(t,c(t,e,"get"))}function h(t,e,i){return function(t,e,i){if(e.set)e.set.call(t,i);else{if(!e.writable)throw new TypeError("attempted to set read only private field");e.value=i}}(t,c(t,e,"set"),i),i}function c(t,e,i){if(!e.has(t))throw new TypeError("attempted to "+i+" private field on non-instance");return e.get(t)}var l=new WeakMap,u=new WeakMap,g=new WeakMap,d=new WeakMap,w=new WeakMap,p=new WeakMap,v=new WeakMap,m=new WeakMap,f=new WeakMap,x=new WeakMap,b=new WeakMap,y=new WeakMap,k=new WeakMap;class S extends a.a{constructor(t,e,i,a,n,r,s,c){super(t),l.set(this,{writable:!0,value:void 0}),u.set(this,{writable:!0,value:void 0}),g.set(this,{writable:!0,value:void 0}),d.set(this,{writable:!0,value:void 0}),w.set(this,{writable:!0,value:void 0}),p.set(this,{writable:!0,value:void 0}),v.set(this,{writable:!0,value:void 0}),m.set(this,{writable:!0,value:void 0}),f.set(this,{writable:!0,value:void 0}),x.set(this,{writable:!0,value:void 0}),b.set(this,{writable:!0,value:void 0}),y.set(this,{writable:!0,value:void 0}),k.set(this,{writable:!0,value:void 0}),h(this,l,e.winScore),h(this,u,e.maxActions),h(this,g,0),h(this,d,0),h(this,w,0),h(this,p,null),h(this,v,i),h(this,m,a),h(this,f,n),h(this,x,r),h(this,b,s),h(this,y,c),o(this,b).interactive=!0,o(this,b).on("mousedown",this.createMouseDownHandler()),h(this,k,[]),this.startCounter()}get actionsLeft(){return o(this,u)-o(this,g)}get time(){return o(this,d)}startCounter(){h(this,p,setInterval(()=>{var t;return h(this,d,1+(t=+o(this,d))),t},1e3))}showEndGame(){clearInterval(o(this,p));const t=new r.a(o(this,m)),e=new r.a(o(this,v),o(this,d),o(this,v).textStyle),i=new r.a(o(this,x)),a=new r.a(o(this,f),o(this,w));o(this,k).push(t,e,i,a,this,o(this,b),o(this,y)),n.a.stage.addChild(this,o(this,b),o(this,y),t,e,i,a),n.b.changeState(s.a.game.loseState)}resetCurrentState(){h(this,g,0),h(this,d,0),h(this,w,0),h(this,p,null)}createMouseDownHandler(){return()=>{this.resetCurrentState(),o(this,k).forEach(t=>n.a.stage.removeChild(t)),h(this,k,[]),n.b.changeState(s.a.game.startState),n.c.lineInterface.resetLine(),n.c.scoreInterface.resetScore(),this.startCounter()}}checkWin(t){if(h(this,w,t),t>=o(this,l))return!0}win(){clearInterval(o(this,p)),o(this,k).push(o(this,b),o(this,y)),n.a.stage.addChild(o(this,b),o(this,y)),n.b.changeState(s.a.game.winState)}increaseActions(t){h(this,g,1+ +o(this,g)),this.checkWin(t)?this.win():this.checkActionsStatus()}checkActionsStatus(){o(this,g)>=o(this,u)&&this.showEndGame()}}},function(t,e,i){"use strict";i.d(e,"a",function(){return u});var a=i(2),n=i(1),r=i(0);function s(t,e){return function(t,e){if(e.get)return e.get.call(t);return e.value}(t,h(t,e,"get"))}function o(t,e,i){return function(t,e,i){if(e.set)e.set.call(t,i);else{if(!e.writable)throw new TypeError("attempted to set read only private field");e.value=i}}(t,h(t,e,"set"),i),i}function h(t,e,i){if(!e.has(t))throw new TypeError("attempted to "+i+" private field on non-instance");return e.get(t)}var c=new WeakMap,l=new WeakMap;class u extends a.a{constructor(t){super(t),c.set(this,{writable:!0,value:void 0}),l.set(this,{writable:!0,value:void 0}),o(this,c,10),this.interactive=!0,this.on("mouseover",this.onMouseOver),this.on("mouseout",this.onMouseOut),this.on("mousedown",this.onMouseDownButton),o(this,l,!1)}onMouseOver(){this.width+=s(this,c),this.height+=s(this,c),this.x-=s(this,c)/2}onMouseOut(){this.width-=s(this,c),this.height-=s(this,c),this.x+=s(this,c)/2}onMouseDownButton(){if("over"!==n.b.getCurrentState()&&"win"!==n.b.getCurrentState()){if(s(this,l))return o(this,l,!1),void n.b.changeState(r.a.game.startState);o(this,l,!0),n.b.changeState(r.a.game.pauseState)}}}},function(t,e,i){"use strict";i.d(e,"a",function(){return u});var a=i(1),n=i(3),r=i(0);function s(t,e){return function(t,e){if(e.get)return e.get.call(t);return e.value}(t,h(t,e,"get"))}function o(t,e,i){return function(t,e,i){if(e.set)e.set.call(t,i);else{if(!e.writable)throw new TypeError("attempted to set read only private field");e.value=i}}(t,h(t,e,"set"),i),i}function h(t,e,i){if(!e.has(t))throw new TypeError("attempted to "+i+" private field on non-instance");return e.get(t)}var c=new WeakMap,l=new WeakMap;class u{constructor(){c.set(this,{writable:!0,value:void 0}),l.set(this,{writable:!0,value:void 0}),o(this,c,[new d,new m,new f,new p]),o(this,l,s(this,c)[0])}changeState(t){s(this,l).destroy&&s(this,l).destroy(),o(this,l,s(this,c)[t]),this.play()}getCurrentState(){return s(this,l).state}play(){s(this,l).play()}}class g{constructor(t){this.state=t}}class d extends g{constructor(){super(r.a.gameStates[0])}play(){a.c.setBlocksInteractiveState(!0)}}var w=new WeakMap;class p extends g{constructor(){super(r.a.gameStates[3]),w.set(this,{writable:!0,value:void 0}),o(this,w,new n.a(r.a.centerText,r.a.stateTexts.win,r.a.centerText.textStyle)),s(this,w).anchor.x=.1}destroy(){a.a.stage.removeChild(s(this,w))}play(){a.c.setBlocksInteractiveState(!1),a.a.stage.addChild(s(this,w))}}var v=new WeakMap;class m extends g{constructor(){super(r.a.gameStates[1]),v.set(this,{writable:!0,value:void 0}),o(this,v,new n.a(r.a.centerText,r.a.stateTexts.pause,r.a.centerText.textStyle))}setElementsNonInteractive(){a.c.setBlocksInteractiveState(!1)}createPauseNotification(){a.a.stage.addChild(s(this,v))}destroy(){a.a.stage.removeChild(s(this,v))}play(){this.setElementsNonInteractive(),this.createPauseNotification()}}class f extends g{constructor(){super(r.a.gameStates[2])}play(){a.c.setBlocksInteractiveState(!1)}}},function(t,e,i){"use strict";i.d(e,"a",function(){return l});var a=i(2),n=i(4);function r(t,e){return function(t,e){if(e.get)return e.get.call(t);return e.value}(t,o(t,e,"get"))}function s(t,e,i){return function(t,e,i){if(e.set)e.set.call(t,i);else{if(!e.writable)throw new TypeError("attempted to set read only private field");e.value=i}}(t,o(t,e,"set"),i),i}function o(t,e,i){if(!e.has(t))throw new TypeError("attempted to "+i+" private field on non-instance");return e.get(t)}var h=new WeakMap,c=new WeakMap;class l extends a.a{constructor(t,e){super(t),h.set(this,{writable:!0,value:void 0}),c.set(this,{writable:!0,value:void 0}),s(this,h,t.width),this.width=0,s(this,c,e)}resetLine(){this.width=0}increaseWidth(t){let e=n.a.getPercentage(r(this,h),100/(r(this,c)/t));e>r(this,h)?this.width=r(this,h):this.width=e}}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});i(4),i(0),i(5),i(1),i(10),i(9),i(12),i(7),i(6),i(2),i(8),i(3),i(11)}]);