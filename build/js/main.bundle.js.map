{"version":3,"sources":["webpack:///webpack/bootstrap 912ac72eea7007500087","webpack:///./source/js/constants.js","webpack:///./source/js/script.js","webpack:///./source/js/frame.js","webpack:///./source/js/text.js","webpack:///./source/js/utils.js","webpack:///./source/js/animation.js","webpack:///./source/js/board.js","webpack:///./source/js/block.js","webpack:///./source/js/score.js","webpack:///./source/js/end-game.js","webpack:///./source/js/pause.js","webpack:///./source/js/game.js","webpack:///./source/js/progress-line.js","webpack:///./source/js/main.js"],"names":["GAME_SETTINGS","GAME_STATES","PROGRESS_BAR","Utils","getPercentage","minWidth","minHeight","x","getCenterCoordinates","width","BLOCK","BOARD","getBoardSize","padding","columnsAmount","spaceBetween","height","rowsAmount","y","PROGRESS_LINE","SCORE","SCORE_TEXT","PIXI","TextStyle","fontFamily","fontSize","fill","stroke","strokeThickness","MAX_SCORE","MAX_SCORE_TEXT","ACTIONS","EVENT_TYPES","ACTIONS_LEFT_TEXT","CURRENT_SCORE","WIN_SCORE","ACTIONS_TEXT","TIME_TEXT","RESTART_BUTTON","RESTART_TEXT","TIME","FINAL_SCORE_TEXT","FINAL_SCORE","END_GAME_FRAME","STATE_TEXTS","CENTER_TEXT","PAUSE_BUTTON","Constants","block","board","maxScore","maxScoreText","actionText","pauseButton","centerText","progressBar","progressLine","game","currentScore","winScore","score","scoreText","endGameFrame","actions","actionsLeftText","time","timeText","finalScore","finatlScoreText","restartButton","restartText","stateTexts","gameStates","events","type","utils","isWebGLSupported","app","Application","backgroundColor","bgColor","document","body","appendChild","view","Game","Frame","Text","Score","ProgressLine","PauseButton","endGame","EndGame","actionsLeft","generatedBoard","Board","gameBoard","scoreFrame","maxScoreFrame","actionsFrame","progressBarFrame","currentScoreText","winScoreText","setup","setTextures","stage","addChild","fillBlockStorage","play","loader","add","colors","path","load","Sprite","constructor","options","zOrder","texture","resources","text","textStyle","style","setTextPosition","position","set","changeCurrenttext","value","randomInteger","min","max","Math","floor","random","screenWidth","elementWidth","boardPadding","elementsAmount","num","percent","sortRow","a","b","row","Animation","fallAnimation","delta","endCoordinate","anchorPoint","stopAnimation","scaleAnimation","actionCounter","moveIndex","minElementsDestroy","reCreateStorages","setBlocksInteractiveState","flag","forEach","column","interactive","getTextures","colorStorage","createStorage","Array","getCoordinate","startPoistion","blockPadding","positionIndex","distance","elementSize","createBlock","Block","itemType","lineInterface","scoreInterface","actionsInterface","reRenderBlock","setAnimation","initAnimation","startAnimation","moveBlocks","movableBlocks","sort","moveBlockColumn","removeBlocks","removableBlocks","removableBlock","removeChild","blockX","blockY","checkSameType","checkAllColors","map","rowIndex","columnIndex","onBlockHit","hittedBlocks","blockRow","blockColumn","currentBlock","includes","push","i","reFillBoard","blockStorage","createdBlock","on","click","blockOnMouseDown","clearBoard","eventData","target","length","increaseCounter","increaseWidth","increaseActions","rowBlock","columnBlock","blockType","anchor","fall","Ticker","start","stop","modifier","resetScore","maxActions","createMouseDownHandler","startCounter","stopCounter","clearInterval","setInterval","showEndGame","changeState","loseState","resetCurrentState","element","startState","resetLine","checkWin","win","winState","checkActionsStatus","pause","over","onMouseOver","out","onMouseOut","onMouseDownButton","getCurrentState","pauseState","Start","PauseState","End","Win","index","destroy","state","State","setElementsNonInteractive","createPauseNotification","currentWidth"],"mappings":"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","file":"main.bundle.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 13);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 912ac72eea7007500087","import { Utils } from './utils.js'\n\nconst GAME_SETTINGS = {\n  'bgColor': 0xa1a1a1,\n  'minWidth': 1187,\n  'minHeight': 878,\n  'columnsAmount': 9,\n  'rowsAmount': 7,\n  'minElementsDestroy': 2,\n  'maxActions': 15,\n  'winScore': 500,\n  'startState': 0,\n  'pauseState': 1,\n  'loseState': 2,\n  'winState': 3,\n}\n\nconst GAME_STATES = ['start', 'pause', 'over', 'win'];\n\nconst PROGRESS_BAR = {\n  'path': './../img/icons/progress-bar.png',\n  'width': Utils.getPercentage(GAME_SETTINGS.minWidth, 38.4),\n  'height': Utils.getPercentage(GAME_SETTINGS.minHeight, 10.5),\n  'y': 0,\n  get x () {\n    return Utils.getCenterCoordinates(GAME_SETTINGS.minWidth, this.width);\n  },\n}\n\nconst BLOCK = {\n  'colors': [\n    './../img/icons/blue-brick.png',\n    './../img/icons/red-brick.png',\n    './../img/icons/yellow-brick.png',\n    './../img/icons/green-brick.png',\n    './../img/icons/purple-brick.png'\n  ],\n  'width': 50,\n  'height': 50,\n  'moveIndex': 60,\n  'padding': 15,\n  'spaceBetween': 10,\n  'anchorPoint': .5,\n}\n\nconst BOARD = {\n  'path': './../img/icons/gameplay.png',\n  'padding': 20,\n  get width () {\n    return Utils.getBoardSize(this.padding, BLOCK.width, GAME_SETTINGS.columnsAmount, BLOCK.spaceBetween);\n  },\n  get height () {\n    return Utils.getBoardSize(this.padding, BLOCK.height, GAME_SETTINGS.rowsAmount, BLOCK.spaceBetween);\n  },\n  get y () {\n    return Utils.getCenterCoordinates(GAME_SETTINGS.minHeight, this.height);\n  },\n  get x () {\n    return Utils.getCenterCoordinates(GAME_SETTINGS.minWidth, this.width);\n  },\n}\n\nconst PROGRESS_LINE = {\n  'path': './../img/icons/progress-line.png',\n  'width': Utils.getPercentage(GAME_SETTINGS.minWidth, 35.4),\n  'height': Utils.getPercentage(GAME_SETTINGS.minHeight, 3.4),\n  'y': Utils.getPercentage(GAME_SETTINGS.minHeight, 4.7),\n  'x': Utils.getPercentage(GAME_SETTINGS.minWidth, 32.1),\n}\n\nconst SCORE = {\n  'path': './../img/icons/money-2.png',\n  'width': Utils.getPercentage(GAME_SETTINGS.minWidth, 11.3),\n  'height': Utils.getPercentage(GAME_SETTINGS.minHeight, 6.5),\n  get y () {\n    return Utils.getPercentage(GAME_SETTINGS.minWidth, 12) - (this.height / 2);\n  },\n  get x () {\n    return Utils.getPercentage(GAME_SETTINGS.minWidth, 12) - (this.width / 2);\n  },\n}\n\nconst SCORE_TEXT = {\n  'y': SCORE.y + Utils.getPercentage(SCORE.y, 10),\n  'x': SCORE.x + Utils.getPercentage(SCORE.x, 50),\n  'start': 0,\n  'modifier': 10,\n  'textStyle': new PIXI.TextStyle({\n    fontFamily: 'Marvin-Shadow',\n    fontSize: 24,\n    fill: 'white',\n    stroke: 'white',\n    strokeThickness: 2,\n  }),\n}\n\nconst MAX_SCORE = {\n  'path': './../img/icons/placeholder-purple.png',\n  'width': Utils.getPercentage(GAME_SETTINGS.minWidth, 14.1),\n  'height': Utils.getPercentage(GAME_SETTINGS.minHeight, 6.5),\n  'y': Utils.getPercentage(GAME_SETTINGS.minHeight, 12),\n  get x () {\n    return Utils.getPercentage(GAME_SETTINGS.minWidth, 83) - (this.width / 2);\n  },\n}\n\nconst MAX_SCORE_TEXT = {\n  'y': MAX_SCORE.y + Utils.getPercentage(MAX_SCORE.y, 10),\n  'x': MAX_SCORE.x + Utils.getPercentage(MAX_SCORE.y, 50),\n}\n\nconst ACTIONS = {\n  'path': './../img/icons/placeholder-purple.png',\n  'width': Utils.getPercentage(GAME_SETTINGS.minWidth, 14.1),\n  'height': Utils.getPercentage(GAME_SETTINGS.minHeight, 6.5),\n  'y': Utils.getPercentage(GAME_SETTINGS.minHeight, 25),\n  'x': MAX_SCORE.x,\n}\n\nconst EVENT_TYPES = {\n  'click': 'mousedown',\n  'over': 'mouseover',\n  'out': 'mouseout',\n}\n\nconst ACTIONS_LEFT_TEXT = {\n  'y': Utils.getPercentage(ACTIONS.y, 105),\n  'x': Utils.getPercentage(ACTIONS.x, 108),\n}\n\nconst CURRENT_SCORE = {\n  'y': Utils.getPercentage(SCORE.y, 65),\n  'x': Utils.getPercentage(SCORE.x, 50),\n  'text': 'Текущие очки',\n}\n\nconst WIN_SCORE = {\n  'y': Utils.getPercentage(MAX_SCORE.y, 65),\n  'x': Utils.getPercentage(MAX_SCORE.x, 103),\n  'text': 'Победа',\n}\n\nconst ACTIONS_TEXT = {\n  'y': Utils.getPercentage(ACTIONS.y, 80),\n  'x': Utils.getPercentage(ACTIONS.x, 97),\n  'text': 'Осталось ходов',\n}\n\nconst TIME_TEXT = {\n  'y': Utils.getPercentage(GAME_SETTINGS.minHeight, 27.5),\n  'x': Utils.getPercentage(GAME_SETTINGS.minWidth, 46),\n  'text': 'Время:',\n}\n\nconst RESTART_BUTTON = {\n  'path': './../img/icons/placeholder-purple.png',\n  'width': Utils.getPercentage(GAME_SETTINGS.minWidth, 17),\n  'height': Utils.getPercentage(GAME_SETTINGS.minHeight, 6.5),\n  'y': Utils.getPercentage(GAME_SETTINGS.minHeight, 85),\n  get x () {\n    return Utils.getPercentage(GAME_SETTINGS.minWidth, 50) - (this.width / 2);\n  },\n}\n\nconst RESTART_TEXT = {\n  'y': RESTART_BUTTON.y + Utils.getPercentage(RESTART_BUTTON.y, 1.5),\n  'x': RESTART_BUTTON.x + Utils.getPercentage(RESTART_BUTTON.y, .4),\n  'text': 'Играть снова',\n}\n\nconst TIME = {\n  'y': Utils.getPercentage(GAME_SETTINGS.minHeight, 38),\n  'x': Utils.getPercentage(GAME_SETTINGS.minWidth, 46),\n  'textStyle': new PIXI.TextStyle({\n    fontFamily: 'Marvin-Shadow',\n    fontSize: 80,\n    fill: 'white',\n    stroke: 'white',\n    strokeThickness: 5,\n  }),\n}\n\nconst FINAL_SCORE_TEXT = {\n  'y': Utils.getPercentage(GAME_SETTINGS.minHeight, 58),\n  'x': Utils.getPercentage(GAME_SETTINGS.minWidth, 46),\n  'text': 'Очки:',\n}\n\nconst FINAL_SCORE = {\n  'y': Utils.getPercentage(GAME_SETTINGS.minHeight, 62),\n  'x': Utils.getPercentage(GAME_SETTINGS.minWidth, 48),\n}\n\nconst END_GAME_FRAME = {\n  'path': './../img/icons/panel-score.png',\n  'width': Utils.getPercentage(GAME_SETTINGS.minWidth, 31.8),\n  'height': Utils.getPercentage(GAME_SETTINGS.minHeight, 46.8),\n  get y () {\n    return Utils.getCenterCoordinates(GAME_SETTINGS.minHeight, this.height);\n  },\n  get x () {\n    return Utils.getCenterCoordinates(GAME_SETTINGS.minWidth, this.width);\n  },\n}\n\nconst STATE_TEXTS = {\n  'pause': 'Пауза',\n  'win': 'Победа',\n}\n\nconst CENTER_TEXT = {\n  'textStyle': new PIXI.TextStyle({\n    fontFamily: 'Marvin-Shadow',\n    fontSize: 150,\n    fill: 'white',\n    stroke: 'white',\n    strokeThickness: 10,\n  }),\n  'width': 562,\n  'height': 209,\n  get y () {\n    return Utils.getCenterCoordinates(GAME_SETTINGS.minHeight, this.height);\n  },\n  get x () {\n    return Utils.getCenterCoordinates(GAME_SETTINGS.minWidth, this.width);\n  },\n}\n\nconst PAUSE_BUTTON = {\n  'path': './../img/icons/pause.png',\n  'width': Utils.getPercentage(GAME_SETTINGS.minWidth, 8),\n  'height': Utils.getPercentage(GAME_SETTINGS.minHeight, 10.4),\n  'y': Utils.getPercentage(GAME_SETTINGS.minHeight, 1),\n  get x () {\n    return Utils.getPercentage(GAME_SETTINGS.minWidth, 93) - (this.width / 2);\n  },\n}\n\nclass Constants {\n\n  static get block() {\n    return BLOCK;\n  }\n\n  static get board() {\n    return BOARD;\n  }\n\n  static get maxScore() {\n    return MAX_SCORE;\n  }\n\n  static get maxScoreText() {\n    return MAX_SCORE_TEXT;\n  }\n\n  static get actionText() {\n    return ACTIONS_TEXT;\n  }\n\n  static get pauseButton() {\n    return PAUSE_BUTTON;\n  }\n\n  static get centerText() {\n    return CENTER_TEXT;\n  }\n\n  static get progressBar() {\n    return PROGRESS_BAR;\n  }\n\n  static get progressLine() {\n    return PROGRESS_LINE;\n  }\n\n  static get game() {\n    return GAME_SETTINGS;\n  }\n\n  static get currentScore() {\n    return CURRENT_SCORE;\n  }\n\n  static get winScore() {\n    return WIN_SCORE;\n  }\n\n  static get score() {\n    return SCORE;\n  }\n\n  static get scoreText() {\n    return SCORE_TEXT;\n  }\n\n  static get endGameFrame() {\n    return END_GAME_FRAME;\n  }\n\n  static get actions() {\n    return ACTIONS;\n  }\n\n  static get actionsLeftText() {\n    return ACTIONS_LEFT_TEXT;\n  }\n\n  static get time() {\n    return TIME;\n  }\n\n  static get timeText() {\n    return TIME_TEXT;\n  }\n\n  static get finalScore() {\n    return FINAL_SCORE;\n  }\n\n  static get finatlScoreText() {\n    return FINAL_SCORE_TEXT;\n  }\n\n  static get restartButton() {\n    return RESTART_BUTTON;\n  }\n\n  static get restartText() {\n    return RESTART_TEXT;\n  }\n\n  static get stateTexts() {\n    return STATE_TEXTS;\n  }\n\n  static get gameStates() {\n    return GAME_STATES;\n  }\n\n  static get events() {\n    return EVENT_TYPES;\n  }\n}\n\nexport { Constants }\n\n\n\n// WEBPACK FOOTER //\n// ./source/js/constants.js","import { Board } from './board.js'\nimport { Constants } from './constants.js'\nimport { Frame } from './frame.js'\nimport { Score } from './score.js'\nimport { EndGame } from './end-game.js'\nimport { Text } from './text.js'\nimport { PauseButton } from './pause.js'\nimport { Game } from './game.js'\nimport { ProgressLine } from './progress-line.js'\n\nlet type = 'WebGL'\n\nif(!PIXI.utils.isWebGLSupported()){\n  type = 'canvas'\n}\n\nlet app = new PIXI.Application({\n  width: Constants.game.minWidth,\n  height: Constants.game.minHeight,\n  backgroundColor: Constants.game.bgColor,\n});\n\ndocument.body.appendChild(app.view);\n\nconst game = new Game();\n\nconst restartButton = new Frame(Constants.restartButton);\n\nconst restartText = new Text(Constants.restartText);\n\nconst score = new Score(Constants.scoreText);\n\nconst progressLine = new ProgressLine(Constants.progressLine, Constants.game.winScore);\n\nconst pauseButton = new PauseButton(Constants.pauseButton);\n\nconst endGame = new EndGame(\n  Constants.endGameFrame,\n  Constants.game,\n  Constants.time,\n  Constants.timeText,\n  Constants.finalScore,\n  Constants.finatlScoreText,\n  restartButton,\n  restartText\n);\n\nconst actionsLeft = new Text(Constants.actionsLeftText, endGame.actionsLeft);\n\nconst actionText = new Text(Constants.actionText);\n\nconst generatedBoard = new Board(\n  Constants.block,\n  Constants.game,\n  Constants.board,\n  score,\n  progressLine,\n  endGame,\n  actionsLeft\n);\n\nconst gameBoard = new Frame(Constants.board);\n\nconst scoreFrame = new Frame(Constants.score);\n\nconst maxScoreFrame = new Frame(Constants.maxScore);\n\nconst maxScore = new Text(Constants.maxScoreText, Constants.game.winScore);\n\nconst actionsFrame = new Frame(Constants.actions);\n\nconst progressBarFrame = new Frame(Constants.progressBar);\n\nconst currentScoreText = new Text(Constants.currentScore);\n\nconst winScoreText = new Text(Constants.winScore);\n\nconst setup = () => {\n  return () => {\n    gameBoard.setTextures();\n    scoreFrame.setTextures();\n    maxScoreFrame.setTextures();\n    pauseButton.setTextures();\n    progressBarFrame.setTextures();\n    progressLine.setTextures();\n    endGame.setTextures();\n    actionsFrame.setTextures();\n    restartButton.setTextures();\n\n    app.stage.addChild(gameBoard);\n    app.stage.addChild(scoreFrame);\n    app.stage.addChild(score);\n    app.stage.addChild(maxScoreFrame);\n    app.stage.addChild(maxScore);\n    app.stage.addChild(pauseButton);\n    app.stage.addChild(progressBarFrame);\n    app.stage.addChild(progressLine);\n    app.stage.addChild(currentScoreText);\n    app.stage.addChild(winScoreText);\n    app.stage.addChild(actionsFrame);\n    app.stage.addChild(actionsLeft);\n    app.stage.addChild(actionText);\n    generatedBoard.fillBlockStorage();\n    game.play();\n  }\n}\n\napp.loader\n  .add([Constants.block.colors[0],\n    Constants.block.colors[1],\n    Constants.block.colors[2],\n    Constants.block.colors[3],\n    Constants.block.colors[4],\n    Constants.score.path,\n    Constants.maxScore.path,\n    Constants.pauseButton.path,\n    Constants.progressBar.path,\n    Constants.progressLine.path,\n    Constants.endGameFrame.path,\n    Constants.board.path])\n  .load(setup());\n\nexport {\n  app,\n  generatedBoard,\n  endGame,\n  game,\n}\n\n\n\n// WEBPACK FOOTER //\n// ./source/js/script.js","import { app } from './script.js'\n\nclass Frame extends PIXI.Sprite {\n  #texture;\n\n  constructor(options) {\n    super();\n    this.x = options.x;\n    this.y = options.y;\n    this.width = options.width;\n    this.height = options.height;\n    this.#texture = options.path;\n    this.zOrder = 0;\n  }\n\n  setTextures () {\n    this.texture = app.loader.resources[this.#texture].texture;\n  }\n}\n\nexport { Frame }\n\n\n\n// WEBPACK FOOTER //\n// ./source/js/frame.js","import { Constants } from './constants.js'\n\nclass Text extends PIXI.Text {\n  #x;\n  #y;\n\n  constructor(options, text, textStyle = Constants.scoreText.textStyle) {\n    super();\n    this.#x = options.x;\n    this.#y = options.y;\n    this.text = text || options.text;\n    this.style = textStyle;\n    this.zOrder = 1;\n    this.setTextPosition();\n  }\n\n  setTextPosition() {\n    this.position.set(this.#x, this.#y);\n  }\n\n  changeCurrenttext(value) {\n    this.text = value;\n  }\n}\n\nexport { Text }\n\n\n\n// WEBPACK FOOTER //\n// ./source/js/text.js","class Utils {\n  static randomInteger(min, max) {\n    return Math.floor(min + Math.random() * (max + 1 - min));\n  }\n\n  static getCenterCoordinates(screenWidth, elementWidth) {\n    return (screenWidth / 2) - (elementWidth / 2);\n  }\n\n  static getBoardSize(boardPadding, elementWidth, elementsAmount, spaceBetween) {\n    return boardPadding + (elementWidth * elementsAmount) + (elementsAmount * spaceBetween);\n  }\n\n  static getPercentage(num, percent) {\n    return (num / 100) * percent;\n  }\n\n  static sortRow(a, b) {\n    return a.row - b.row;\n  }\n}\n\nexport { Utils }\n\n\n\n// WEBPACK FOOTER //\n// ./source/js/utils.js","import { Constants } from './constants.js'\n\nclass Animation {\n  static fallAnimation(delta, block) {\n    let endCoordinate = (\n      Constants.board.y + block.row * (Constants.block.width + Constants.block.spaceBetween) +\n      Constants.block.padding + Constants.block.width * Constants.block.anchorPoint\n    );\n    block.width = Constants.block.width;\n    block.height = Constants.block.height;\n    if (block.y <= endCoordinate) {\n      block.y += 5 * delta;\n    } else {\n      block.y = endCoordinate;\n      block.stopAnimation();\n    }\n  }\n\n  static scaleAnimation (delta, block) {\n    if (block.width <= Constants.block.width) {\n      block.width += 2 * delta;\n      block.height += 2 * delta;\n    } else {\n      block.width = Constants.block.width;\n      block.height = Constants.block.height;\n      block.stopAnimation();\n    }\n  }\n}\n\nexport { Animation }\n\n\n\n// WEBPACK FOOTER //\n// ./source/js/animation.js","import { Block } from './block.js'\nimport { app } from './script.js'\nimport { Utils } from './utils.js'\nimport { Constants } from './constants.js'\n\nclass Board {\n  #columns;\n  #startCoordinateX;\n  #startCoordinateY;\n  #blockStartX;\n  #blockStartY;\n  #blockPadding;\n  #blockMoveIndex;\n  #boardX;\n  #boardY;\n  #blockWidth;\n  #blockHeight;\n  #anchorPoint;\n  #rows;\n  #animationFall;\n  #animationScale;\n  #minDestroyAmount;\n  #scoreInterface;\n  #progressInterface;\n  #endGameInterface;\n  #actionsInterface;\n  #isPlayable;\n  #minimalRows;\n  #minimalColumn;\n  #colorTypes;\n\n\n  constructor (block, game, board, score, progressLine, endGame, actionCounter) {\n    this.#blockMoveIndex = block.moveIndex;\n    this.#blockPadding = block.padding;\n    this.#boardX = board.x;\n    this.#boardY = board.y;\n    this.#blockWidth = block.width;\n    this.#blockHeight = block.height;\n    this.#anchorPoint = block.anchorPoint;\n    this.#blockStartX = this.#boardX + this.#blockPadding + (this.#blockWidth * this.#anchorPoint);\n    this.#blockStartY = this.#boardY + this.#blockPadding + (this.#blockHeight * this.#anchorPoint);\n    this.#startCoordinateX = this.#blockStartX;\n    this.#startCoordinateY = this.#blockStartY;\n    this.#colorTypes = block.colors;\n    this.#minDestroyAmount = game.minElementsDestroy;\n    this.#minimalColumn = game.columnsAmount;\n    this.#minimalRows = game.rowsAmount;\n\n    this.#actionsInterface = actionCounter;\n    this.#isPlayable = false;\n\n    this.#scoreInterface = score;\n    this.#progressInterface = progressLine;\n    this.#endGameInterface = endGame;\n\n    this.#animationFall = 'fall';\n    this.#animationScale = 'scale';\n\n    this.reCreateStorages();\n  }\n\n  setBlocksInteractiveState(flag) {\n    this.#rows.forEach(row => {\n      row.forEach(column => {\n        column.interactive = flag;\n      })\n    })\n  }\n\n  getTextures (colorStorage, value) {\n    return app.loader.resources[colorStorage[value]].texture;\n  }\n\n  createStorage (elementsAmount) {\n    return new Array(elementsAmount).fill('');\n  }\n\n  reCreateStorages() {\n    this.#columns = this.createStorage(this.#minimalColumn);\n    this.#rows = this.createStorage(this.#minimalRows);\n  }\n\n  getCoordinate (startPoistion, blockPadding, positionIndex, distance, elementSize, anchorPoint) {\n    return (startPoistion + blockPadding) + (positionIndex * distance) + (elementSize * anchorPoint);\n  }\n\n  createBlock (options, row, column) {\n    if (options) {\n      return new Block(options);\n    } else {\n      const itemType = Utils.randomInteger(0, 4);\n      const options = {\n        'texture': this.getTextures(this.#colorTypes, itemType),\n        'row': row,\n        'column': column,\n        'x': this.getCoordinate(this.#boardX, this.#blockPadding, column, this.#blockMoveIndex, this.#blockWidth, this.#anchorPoint),\n        'y': this.getCoordinate(this.#boardY, this.#blockPadding, row, this.#blockMoveIndex, this.#blockHeight, this.#anchorPoint),\n        'blockType': itemType,\n      }\n      return new Block(options);\n    }\n  }\n\n  get lineInterface() {\n    return this.#progressInterface;\n  }\n\n  get scoreInterface() {\n    return this.#scoreInterface;\n  }\n\n  get actionsInterface() {\n    return this.#actionsInterface;\n  }\n\n  reRenderBlock (block) {\n    block.stopAnimation().setAnimation(this.#animationFall).initAnimation().startAnimation();\n  }\n\n  moveBlocks (movableBlocks) {\n    movableBlocks.sort(Utils.sortRow).forEach(block => {\n      this.moveBlockColumn(block.row, block.column);\n    });\n  }\n\n  removeBlocks (removableBlocks) {\n    removableBlocks.forEach(removableBlock => {\n      app.stage.removeChild(removableBlock);\n      const blockX = removableBlock.row;\n      const blockY = removableBlock.column;\n      this.#rows[blockX][blockY] = null;\n    });\n  }\n\n  checkSameType(row, column, type) {\n    if (this.#rows[row] && this.#rows[row][column]) {\n      if (this.#rows[row][column].type === type) {\n        this.#isPlayable = true;\n      }\n    }\n  }\n\n  checkAllColors() {\n    this.#rows.map((row, rowIndex) => {\n      row.map((column, columnIndex) => {\n        if (this.#isPlayable) return;\n        this.checkSameType(rowIndex + 1, columnIndex, column.type);\n        this.checkSameType(rowIndex - 1, columnIndex, column.type);\n        this.checkSameType(rowIndex, columnIndex + 1, column.type);\n        this.checkSameType(rowIndex, columnIndex - 1, column.type);\n      })\n    })\n  }\n\n  onBlockHit (hittedBlocks, blockRow, blockColumn, type) {\n    if (this.#rows[blockRow] && this.#rows[blockRow][blockColumn]) {\n      const currentBlock = this.#rows[blockRow][blockColumn];\n      if (!hittedBlocks.includes(currentBlock) && currentBlock.type === type) {\n        hittedBlocks.push(currentBlock);\n        this.onBlockHit(hittedBlocks, blockRow + 1, blockColumn, type);\n        this.onBlockHit(hittedBlocks, blockRow - 1, blockColumn, type);\n        this.onBlockHit(hittedBlocks, blockRow, blockColumn + 1, type);\n        this.onBlockHit(hittedBlocks, blockRow, blockColumn - 1, type);\n      }\n    }\n  }\n\n  moveBlockColumn (blockX, blockY) {\n    for (let i = blockX; i > 0; i--) {\n      this.#rows[i][blockY] = this.#rows[i - 1][blockY];\n      this.#rows[i - 1][blockY] = null;\n      if (this.#rows[i][blockY]) {\n        this.#rows[i][blockY].row = i;\n        this.reRenderBlock(this.#rows[i][blockY]);\n      }\n    }\n  }\n\n  reFillBoard (blockStorage) {\n    blockStorage.map((row, rowIndex) => {\n      row.map((column, columnIndex) => {\n        if (!column) {\n          const createdBlock = this.createBlock(null, rowIndex, columnIndex);\n          createdBlock.width = 0;\n          createdBlock.height = 0;\n          createdBlock.setAnimation(this.#animationScale).initAnimation().startAnimation();\n          createdBlock.on(Constants.events.click, this.blockOnMouseDown());\n          this.#rows[rowIndex][columnIndex] = createdBlock;\n          app.stage.addChild(createdBlock);\n        }\n      })\n    })\n  }\n\n  clearBoard() {\n    this.#rows.map((row) => {\n      row.map((column) => {\n        app.stage.removeChild(column);\n      })\n    })\n  }\n\n  blockOnMouseDown () {\n    return (eventData) => {\n      const target = eventData.target;\n      const hittedBlocks = [];\n      this.onBlockHit(hittedBlocks, target.row, target.column, target.type);\n      if (hittedBlocks.length < this.#minDestroyAmount) return;\n      this.removeBlocks(hittedBlocks);\n      this.moveBlocks(hittedBlocks);\n      this.#scoreInterface.increaseCounter(hittedBlocks.length);\n      this.#progressInterface.increaseWidth(this.#scoreInterface.currentScore);\n      this.reFillBoard(this.#rows);\n      this.checkAllColors();\n      if (!this.#isPlayable) {\n        this.clearBoard();\n        this.reCreateStorages();\n        this.fillBlockStorage();\n      }\n      this.#isPlayable = false;\n      this.#endGameInterface.increaseActions(this.#scoreInterface.currentScore);\n      this.#actionsInterface.changeCurrenttext(this.#endGameInterface.actionsLeft);\n    }\n  }\n\n  fillBlockStorage () {\n    this.#rows = this.#rows.map((rowBlock, rowIndex) => {\n      this.#columns = this.#columns.map((columnBlock, columnIndex) => {\n        const itemType = Utils.randomInteger(0, 4);\n\n        const options = {\n          'texture': this.getTextures(this.#colorTypes, itemType),\n          'x': this.#startCoordinateX,\n          'y': this.#startCoordinateY,\n          'row': rowIndex,\n          'column': columnIndex,\n          'blockType': itemType,\n        };\n\n        columnBlock = this.createBlock(options);\n        columnBlock.on(Constants.events.click, this.blockOnMouseDown());\n\n        app.stage.addChild(columnBlock);\n\n        this.#startCoordinateX += this.#blockMoveIndex;\n        return columnBlock;\n      });\n      this.#startCoordinateX = this.#blockStartX;\n      this.#startCoordinateY += this.#blockMoveIndex;\n      return this.#columns;\n    });\n    this.#startCoordinateX = this.#blockStartX;\n    this.#startCoordinateY = this.#blockStartY;\n\n    this.checkAllColors();\n    if (!this.#isPlayable) {\n      this.clearBoard();\n      this.reCreateStorages();\n      this.fillBlockStorage();\n    }\n    this.#isPlayable = false;\n  }\n}\n\nexport { Board }\n\n\n\n// WEBPACK FOOTER //\n// ./source/js/board.js","import { Constants } from './constants.js'\nimport { Animation } from './animation.js'\n\nclass Block extends PIXI.Sprite {\n  #ticker;\n  row;\n  column;\n  #type;\n  #animations;\n  #currentAnimation;\n\n  constructor (options) {\n    super();\n    this.texture = options.texture;\n    this.x = options.x;\n    this.y = options.y;\n    this.row = options.row;\n    this.column = options.column;\n    this.interactive = true;\n    this.#type = options.blockType;\n    this.anchor.set(Constants.block.anchorPoint);\n\n    this.#animations = {\n      'fall': Animation.fallAnimation,\n      'scale': Animation.scaleAnimation,\n    };\n\n    this.#currentAnimation = this.#animations.fall;\n\n    this.width = Constants.block.width;\n    this.height = Constants.block.height;\n\n    this.initAnimation();\n  }\n\n  setAnimation(value) {\n    this.#currentAnimation = value;\n    return this;\n  }\n\n  initAnimation() {\n    this.#ticker = new PIXI.Ticker();\n    this.#ticker.add(delta => this.#animations[this.#currentAnimation](delta, this));\n    return this;\n  }\n\n  startAnimation() {\n    this.#ticker.start();\n    return this;\n  }\n\n  stopAnimation() {\n    this.#ticker.stop();\n    return this;\n  }\n\n  get type() {\n    return this.#type;\n  }\n}\n\nexport { Block }\n\n\n\n// WEBPACK FOOTER //\n// ./source/js/block.js","import { Text } from './text.js'\n\nclass Score extends Text {\n  #count;\n  #modifier;\n\n  constructor(score) {\n    super(score);\n    this.#count = score.start;\n    this.#modifier = score.modifier;\n    this.text = this.#count;\n  }\n\n  increaseCounter(value) {\n    this.#count += value * this.#modifier;\n    this.text = this.#count;\n  }\n\n  resetScore() {\n    this.#count = 0;\n    this.text = this.#count;\n  }\n\n  get currentScore() {\n    return this.#count;\n  }\n}\n\nexport { Score }\n\n\n\n// WEBPACK FOOTER //\n// ./source/js/score.js","import { Frame } from './frame.js'\nimport {\n  app,\n  game,\n  generatedBoard\n} from './script.js'\nimport { Text } from './text.js'\nimport { Constants } from './constants.js'\n\n\nclass EndGame extends Frame {\n  #winScore;\n  #maxActions;\n  #actionsDone;\n  #timeCounter;\n  #currentScore;\n  #counterId;\n  #time;\n  #timeText;\n  #score;\n  #scoreText;\n  #restartButtonInterface;\n  #restartText;\n  #endGameElements\n\n  constructor(endGameFrame, game, time, timeText, score, scoreText, restartButton, restartText) {\n    super(endGameFrame);\n    this.#winScore = game.winScore;\n    this.#maxActions = game.maxActions;\n    this.#actionsDone = 0;\n    this.#timeCounter = 0;\n    this.#currentScore = 0;\n    this.#counterId = null;\n\n    this.#time = time;\n    this.#timeText = timeText;\n    this.#score = score;\n    this.#scoreText = scoreText;\n\n    this.#restartButtonInterface = restartButton;\n    this.#restartText = restartText;\n\n    this.#restartButtonInterface.interactive = true;\n    this.#restartButtonInterface.on(Constants.events.click, this.createMouseDownHandler());\n\n    this.#endGameElements = [];\n\n    this.startCounter();\n  }\n\n  get actionsLeft () {\n    return this.#maxActions - this.#actionsDone;\n  }\n\n  get time() {\n    return this.#timeCounter;\n  }\n\n  stopCounter() {\n    clearInterval(this.#counterId);\n  }\n\n  startCounter() {\n    this.#counterId = setInterval(() => this.#timeCounter++, 1000);\n  }\n\n  showEndGame() {\n    clearInterval(this.#counterId);\n    const timeText = new Text(this.#timeText);\n    const time = new Text(this.#time, this.#timeCounter, this.#time.textStyle);\n    const scoreText = new Text(this.#scoreText);\n    const score = new Text(this.#score, this.#currentScore);\n\n    this.#endGameElements.push(timeText, time, scoreText, score, this, this.#restartButtonInterface, this.#restartText);\n\n    app.stage.addChild(\n      this,\n      this.#restartButtonInterface,\n      this.#restartText,\n      timeText,\n      time,\n      scoreText,\n      score\n    );\n\n    game.changeState(Constants.game.loseState);\n  }\n\n  resetCurrentState() {\n    this.#actionsDone = 0;\n    this.#timeCounter = 0;\n    this.#currentScore = 0;\n    this.#counterId = null;\n  }\n\n  createMouseDownHandler() {\n    return () => {\n      this.resetCurrentState();\n      this.#endGameElements.forEach(element => app.stage.removeChild(element));\n      this.#endGameElements = [];\n      game.changeState(Constants.game.startState);\n      generatedBoard.lineInterface.resetLine();\n      generatedBoard.scoreInterface.resetScore();\n      generatedBoard.actionsInterface.changeCurrenttext(this.#maxActions);\n      this.startCounter();\n    }\n  }\n\n  checkWin(currentScore) {\n    this.#currentScore = currentScore;\n    if (currentScore >= this.#winScore) {\n      return true;\n    }\n  }\n\n  win() {\n    clearInterval(this.#counterId);\n    this.#endGameElements.push(this.#restartButtonInterface, this.#restartText);\n    app.stage.addChild(this.#restartButtonInterface, this.#restartText);\n    game.changeState(Constants.game.winState);\n  }\n\n  increaseActions(currentScore) {\n    this.#actionsDone++;\n\n    if(this.checkWin(currentScore)) {\n      this.win();\n      return;\n    }\n\n    this.checkActionsStatus();\n  }\n\n  checkActionsStatus() {\n    if (this.#actionsDone >= this.#maxActions) {\n      this.showEndGame();\n    }\n  }\n}\n\nexport { EndGame }\n\n\n\n// WEBPACK FOOTER //\n// ./source/js/end-game.js","import { Frame } from './frame.js'\nimport { game } from './script.js'\nimport { Constants } from './constants.js'\nimport { endGame } from './script.js'\n\nclass PauseButton extends Frame {\n  #increasedSize;\n  #isOnPause;\n\n  constructor(pause) {\n    super(pause);\n    this.#increasedSize = 10;\n    this.interactive = true;\n    this.on(Constants.events.over, this.onMouseOver);\n    this.on(Constants.events.out, this.onMouseOut);\n    this.on(Constants.events.click, this.onMouseDownButton);\n\n    this.#isOnPause = false;\n  }\n\n  onMouseOver() {\n    this.width += this.#increasedSize;\n    this.height += this.#increasedSize;\n    this.x -= this.#increasedSize / 2;\n  }\n\n  onMouseOut() {\n    this.width -= this.#increasedSize;\n    this.height -= this.#increasedSize;\n    this.x += this.#increasedSize / 2;\n  }\n\n  onMouseDownButton() {\n    if (game.getCurrentState() === Constants.gameStates[2] || game.getCurrentState() === Constants.gameStates[3]) {\n      return;\n    }\n\n    if (this.#isOnPause) {\n      this.#isOnPause = false;\n      endGame.startCounter();\n      game.changeState(Constants.game.startState);\n      return;\n    }\n\n    this.#isOnPause = true;\n    endGame.stopCounter();\n    game.changeState(Constants.game.pauseState);\n  }\n}\n\nexport { PauseButton }\n\n\n\n\n// WEBPACK FOOTER //\n// ./source/js/pause.js","import {\n  app,\n  generatedBoard\n} from './script.js'\nimport { Text } from './text.js'\nimport { Constants } from './constants.js'\n\nclass Game {\n  #states;\n  #currentState;\n\n  constructor() {\n    this.#states = [new Start(), new PauseState(), new End(), new Win()];\n    this.#currentState = this.#states[0];\n  }\n\n  changeState(index) {\n    if (this.#currentState.destroy) {\n      this.#currentState.destroy();\n    }\n    this.#currentState = this.#states[index];\n    this.play();\n  }\n\n  getCurrentState() {\n    return this.#currentState.state;\n  }\n\n  play() {\n    this.#currentState.play();\n  }\n}\n\nclass State {\n  constructor(state) {\n    this.state = state;\n  }\n}\n\nclass Start extends State {\n  constructor() {\n    super(Constants.gameStates[0]);\n  }\n\n  play() {\n    generatedBoard.setBlocksInteractiveState(true);\n  }\n}\n\nclass Win extends State {\n  #win;\n\n  constructor() {\n    super(Constants.gameStates[3]);\n    this.#win = new Text(Constants.centerText, Constants.stateTexts.win, Constants.centerText.textStyle);\n    this.#win.anchor.x = .1;\n  }\n\n  destroy() {\n    app.stage.removeChild(this.#win);\n  }\n\n  play() {\n    generatedBoard.setBlocksInteractiveState(false);\n    app.stage.addChild(this.#win);\n  }\n}\n\nclass PauseState extends State {\n  #pause;\n\n  constructor() {\n    super(Constants.gameStates[1]);\n    this.#pause = new Text(Constants.centerText, Constants.stateTexts.pause, Constants.centerText.textStyle);\n  }\n\n  setElementsNonInteractive() {\n    generatedBoard.setBlocksInteractiveState(false);\n  }\n\n  createPauseNotification() {\n    app.stage.addChild(this.#pause);\n  }\n\n  destroy() {\n    app.stage.removeChild(this.#pause);\n  }\n\n  play() {\n    this.setElementsNonInteractive();\n    this.createPauseNotification();\n  }\n}\n\nclass End extends State {\n  constructor() {\n    super(Constants.gameStates[2]);\n  }\n\n  play() {\n    generatedBoard.setBlocksInteractiveState(false);\n  }\n}\n\nexport { Game }\n\n\n\n// WEBPACK FOOTER //\n// ./source/js/game.js","import { Frame } from './frame.js'\nimport { Utils } from './utils.js'\n\nclass ProgressLine extends Frame {\n  #maxWidth;\n  #maxScore;\n\n  constructor(progressLine, maxScore) {\n    super(progressLine);\n    this.#maxWidth = progressLine.width;\n    this.width = 0;\n    this.#maxScore = maxScore;\n  }\n\n  resetLine() {\n    this.width = 0;\n  }\n\n  increaseWidth(currentScore) {\n    let currentWidth = Utils.getPercentage(this.#maxWidth, 100 / (this.#maxScore / currentScore));\n    if (currentWidth > this.#maxWidth) {\n      this.width = this.#maxWidth;\n      return;\n    }\n    this.width = currentWidth;\n  }\n}\n\nexport { ProgressLine }\n\n\n\n// WEBPACK FOOTER //\n// ./source/js/progress-line.js","import './utils.js'\nimport './constants.js'\nimport './animation.js'\nimport './script.js'\nimport './pause.js'\nimport './end-game.js'\nimport './progress-line.js'\nimport './block.js'\nimport './board.js'\nimport './frame.js'\nimport './score.js'\nimport './text.js'\nimport './game.js'\n\n\n\n\n// WEBPACK FOOTER //\n// ./source/js/main.js"],"sourceRoot":""}